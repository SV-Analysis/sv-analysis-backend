{"version":3,"sources":["webpack:///static/js/app.cb2e3da677bf4ed3aea3.js","webpack:///./src/main.js","webpack:///./src/service/pipeService.js","webpack:///./src/lib/DetailMap.js","webpack:///./src/service/dataService.js","webpack:///App.vue","webpack:///Analysis.vue","webpack:///CompMapView.vue","webpack:///ComparisionContainer.vue","webpack:///ControlPanel.vue","webpack:///NavMapView.vue","webpack:///Navbar.vue","webpack:///Navigation.vue","webpack:///PointsView.vue","webpack:///SelectionLayer.vue","webpack:///BarChart.vue","webpack:///./src/lib/DragSelection.js","webpack:///./src/lib/PointCloud.js","webpack:///./src/App.vue","webpack:///./src/components/Analysis.vue","webpack:///./src/components/CompMapView.vue","webpack:///./src/components/ComparisionContainer.vue","webpack:///./src/components/ControlPanel.vue","webpack:///./src/components/NavMapView.vue","webpack:///./src/components/Navbar.vue","webpack:///./src/components/Navigation.vue","webpack:///./src/components/PointsView.vue","webpack:///./src/components/SelectionLayer.vue","webpack:///./src/components/visChart/BarChart.vue","webpack:///./src/components/Analysis.vue?c959","webpack:///./src/components/SelectionLayer.vue?1ca8","webpack:///./src/components/Navbar.vue?3529","webpack:///./src/components/ControlPanel.vue?7767","webpack:///./src/components/NavMapView.vue?3819","webpack:///./src/components/visChart/BarChart.vue?265e","webpack:///./src/components/Navigation.vue?af5e","webpack:///./src/components/CompMapView.vue?43ef","webpack:///./src/App.vue?e3f7","webpack:///./src/components/PointsView.vue?c937","webpack:///./src/components/ComparisionContainer.vue?b08e"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","template","components","App","Object","defineProperty","value","pipeService","data","UPDATEMAPBOUNDARY","UPDATEMAPVIEWSELECTION","ALLRESULTDATAREADYL","INTERACTIVESELECTION","UPDATELAYER","REGIONQUERYDATARECIEVED","MAPINSTANCE","ZOOMSTART","DRAGSTAET","methods","emitUpdateMapBound","msg","this","$emit","onUpdateMapBound","callback","$on","emitUpdateSelectedMapView","onUpdateSelectedMapView","emitUpdateAllResultData","onUpdateAllResultData","emitInteractiveSelection","onInteractiveSelection","emitUpdateMapLayer","onUpdateMapLayer","emitRegionQueryDataRecieved","onRegionQueryDataRecieved","emitMapInstance","onMapInstance","emitCompMapZoomStart","onCompMapZoomStart","emitCompMapDragStart","onCompMapDragStart","_leafLet","_leafLet2","DetailMap","cityInfo","$el","prototype","init","cities","LayerGroup","mbUrl","grayscaleDark","tileLayer","id","attribution","grayscaleLight","streets","map","center","gps","zoom","layers","zoomControl","maxZoom","baseLayers","GrayScaleLight","GrayScaleDark","Streets","currentLayer","bound","fitBounds","enableControlLayer","control","addTo","onBaseLayerChange","on","event","updateLayer","layerName","undefined","removeLayer","addLayer","console","log","onEvent","eventName","handler","disableAllInteraction","dragging","disable","touchZoom","doubleClickZoom","scrollWheelZoom","getBounds","getBoundsRegion","worldToContaierPointsArr","arr","outArr","time","Date","i","ilen","length","newPoint","latLng","push","pos","latLngToContainerPoint","type","worldToContaierPointsObj","records","location","rawdata","contaierPointsToWorld","point","containerPointToLatLng","addCanvasLayer","getMapInstance","getZoomLevel","getZoom","getTestData","url","dataServerUrl","$http","get","then","response","JSON","parse","errResponse","getAllRecordsForOneCity","cityId","post","queryRegionFromBackground","positions","_vueResource","_vueResource2","use","http","_Navbar","_Navbar2","_ControlPanel","_ControlPanel2","_Navigation","_Navigation2","_ComparisionContainer","_ComparisionContainer2","_Analysis","_Analysis2","name","Navbar","ControlPanel","Navigation","CompContainer","Analysis","svFeatures2Color","green","sky","road","building","car","others","allFeatures","mounted","_pipeService","_pipeService2","_BarChart","_BarChart2","props","BarChart","title","queryList","_this","praseRegionQueryResult","computed","parseFeatures","features","featureStaDict","featureRatioDict","forEach","feature","sum","_loop","record","parseFloat","output","featureArr","featureSta","featureRatio","number","_DetailMap","_DetailMap2","_dataService","_dataService2","points_world","createMap","current_points","mapObj","world_position","watch","cityInfo.bound","newData","oldData","setTimeout","zoomLevel","regions","getSouthWest","getSouthEast","getNorthEast","getNorthWest","_CompMapView","_CompMapView2","_PointsView","_PointsView2","_SelectionLayer","_SelectionLayer2","candidates","nyc","singapore","hk","london","city_id_arr","city_id","created","para","_id","CompMap","PointsView","SelectionLayer","parameters","sendMapRegion","region","buttons","link","clcTest","promise","testGetAllCity","_NavMapView","_NavMapView2","checkedItem","deep","newValue","oldValue","notDisabled","j","jlen","selected","newMessage","new_style","width","NavMapView","_PointCloud","_PointCloud2","pointView","updatePointCloud","createPointsView","animate","setColorStyle","_DragSelection","_DragSelection2","createSelectLayer","dragSelection","registerDragEnd","selectionRegion","subject","_interopRequireWildcard","newObj","key","hasOwnProperty","call","_d","d3","drawBarChart","clientWidth","height","clientHeight","barNum","featureTextLength","svgContainer","select","append","barsContainer","selectAll","enter","attr","d","bars","regionQueryData","text","DragSelection","dragstarted","active_select","select_container","datum","x0","x","y0","y","x1","y1","dx","dy","line","curve","curveBasis","drag","container","p","dragCallBack","remove","endDragCallback","_Three","_Three2","PointCloud","colorStyle","document","createElement","appendChild","camera","OrthographicCamera","position","set","lookAt","scene","Scene","fog","FogExp2","initRender","setData","level","children","object","point_size","Math","abs","geometry","Geometry","colors","item","vertex","Vector3","world_vertex","screenToWorldOrth","Color","getColor","vertices","materials","PointsMaterial","size","transparent","opacity","vertexColors","VertexColors","particles","Points","add","clearAll","renderer","WebGLRenderer","alpha","setPixelRatio","window","devicePixelRatio","setSize","domElement","requestAnimationFrame","render","screenToWorld","vector","unproject","dir","sub","normalize","distance","z","clone","multiplyScalar","worldToScreen","project","particlePos","switchCoordinate","pMouse","cam","m","getCanvas","setCanvasToMap","__vue_exports__","__vue_options__","__vue_template__","options","staticRenderFns","_scopeId","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","_l","query","attrs","_m","click","href","data-toggle","role","staticStyle","style","directives","rawName","expression","float","margin-left","disabled","domProps","checked","Array","isArray","_i","$event","$$a","$$el","target","$$c","$$v","$$i","concat","slice","for"],"mappings":"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","file":"static/js/app.cb2e3da677bf4ed3aea3.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(2);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(34);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  template: '<App/>',\n\t  components: { App: _App2.default }\n\t\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(2);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar pipeService = new _vue2.default({\n\t  data: {\n\t    UPDATEMAPBOUNDARY: 'update_map_bound',\n\t    UPDATEMAPVIEWSELECTION: 'update_select_map_view_selection',\n\t    ALLRESULTDATAREADYL: 'all_result_data_ready',\n\t    INTERACTIVESELECTION: 'interactive_select',\n\t    UPDATELAYER: 'update_layer',\n\t    REGIONQUERYDATARECIEVED: 'region_query_data_recieved',\n\t    MAPINSTANCE: 'map_instance',\n\t    ZOOMSTART: 'zoom_start',\n\t    DRAGSTAET: 'drag_start'\n\t  },\n\t\n\t  methods: {\n\t    emitUpdateMapBound: function emitUpdateMapBound(msg) {\n\t      this.$emit(this.UPDATEMAPBOUNDARY, msg);\n\t    },\n\t    onUpdateMapBound: function onUpdateMapBound(callback) {\n\t      this.$on(this.UPDATEMAPBOUNDARY, function (msg) {\n\t        callback(msg);\n\t      });\n\t    },\n\t\n\t    emitUpdateSelectedMapView: function emitUpdateSelectedMapView(msg) {\n\t      this.$emit(this.UPDATEMAPVIEWSELECTION, msg);\n\t    },\n\t    onUpdateSelectedMapView: function onUpdateSelectedMapView(callback) {\n\t      this.$on(this.UPDATEMAPVIEWSELECTION, function (msg) {\n\t        callback(msg);\n\t      });\n\t    },\n\t\n\t    emitUpdateAllResultData: function emitUpdateAllResultData(msg) {\n\t      this.$emit(this.ALLRESULTDATAREADYL, msg);\n\t    },\n\t    onUpdateAllResultData: function onUpdateAllResultData(callback) {\n\t      this.$on(this.ALLRESULTDATAREADYL, function (msg) {\n\t        callback(msg);\n\t      });\n\t    },\n\t\n\t    emitInteractiveSelection: function emitInteractiveSelection(msg) {\n\t      this.$emit(this.INTERACTIVESELECTION, msg);\n\t    },\n\t    onInteractiveSelection: function onInteractiveSelection(callback) {\n\t      this.$on(this.INTERACTIVESELECTION, function (msg) {\n\t        callback(msg);\n\t      });\n\t    },\n\t\n\t    emitUpdateMapLayer: function emitUpdateMapLayer(msg) {\n\t      this.$emit(this.UPDATELAYER, msg);\n\t    },\n\t    onUpdateMapLayer: function onUpdateMapLayer(callback) {\n\t      this.$on(this.UPDATELAYER, function (msg) {\n\t        callback(msg);\n\t      });\n\t    },\n\t\n\t    emitRegionQueryDataRecieved: function emitRegionQueryDataRecieved(msg) {\n\t      this.$emit(this.REGIONQUERYDATARECIEVED, msg);\n\t    },\n\t    onRegionQueryDataRecieved: function onRegionQueryDataRecieved(callback) {\n\t      this.$on(this.REGIONQUERYDATARECIEVED, function (msg) {\n\t        callback(msg);\n\t      });\n\t    },\n\t\n\t    emitMapInstance: function emitMapInstance(msg) {\n\t      this.$emit(this.MAPINSTANCE, msg);\n\t    },\n\t    onMapInstance: function onMapInstance(callback) {\n\t      this.$on(this.MAPINSTANCE, function (msg) {\n\t        callback(msg);\n\t      });\n\t    },\n\t\n\t    emitCompMapZoomStart: function emitCompMapZoomStart(msg) {\n\t      this.$emit(this.ZOOMSTART, msg);\n\t    },\n\t    onCompMapZoomStart: function onCompMapZoomStart(callback) {\n\t      this.$on(this.ZOOMSTART, function (msg) {\n\t        callback(msg);\n\t      });\n\t    },\n\t\n\t    emitCompMapDragStart: function emitCompMapDragStart(msg) {\n\t      this.$emit(this.DRAGSTAET, msg);\n\t    },\n\t    onCompMapDragStart: function onCompMapDragStart(callback) {\n\t      this.$on(this.DRAGSTAET, function (msg) {\n\t        callback(msg);\n\t      });\n\t    }\n\t\n\t  }\n\t});\n\t\n\texports.default = pipeService;\n\n/***/ },\n/* 2 */,\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _leafLet = __webpack_require__(32);\n\t\n\tvar _leafLet2 = _interopRequireDefault(_leafLet);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar DetailMap = function DetailMap(el, cityInfo) {\n\t  this.$el = el;\n\t  this.cityInfo = cityInfo;\n\t};\n\t\n\tDetailMap.prototype.init = function () {\n\t  this.cities = new _leafLet2.default.LayerGroup();\n\t\n\t  var mbAttr = 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, ' + '<a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, ' + 'Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\n\t      mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw';\n\t\n\t  this.grayscaleDark = _leafLet2.default.tileLayer(mbUrl, { id: 'mapbox.dark', attribution: null });\n\t  this.grayscaleLight = _leafLet2.default.tileLayer(mbUrl, { id: 'mapbox.light', attribution: null });\n\t  this.streets = _leafLet2.default.tileLayer(mbUrl, { id: 'mapbox.streets', attribution: null });\n\t\n\t  this.map = _leafLet2.default.map(this.$el, {\n\t    center: this.cityInfo.gps,\n\t    zoom: 9,\n\t    layers: [this.grayscaleDark, this.cities],\n\t    zoomControl: false,\n\t    maxZoom: 18\n\t  });\n\t\n\t  this.baseLayers = {\n\t    \"GrayScaleLight\": this.grayscaleLight,\n\t    \"GrayScaleDark\": this.grayscaleDark,\n\t    \"Streets\": this.streets\n\t  };\n\t\n\t  this.currentLayer = this.grayscaleLight;\n\t\n\t\n\t  if (this.cityInfo.bound) this.map.fitBounds(this.cityInfo.bound);\n\t};\n\t\n\tDetailMap.prototype.enableControlLayer = function () {\n\t  _leafLet2.default.control.layers(this.baseLayers).addTo(this.map);\n\t};\n\t\n\tDetailMap.prototype.onBaseLayerChange = function (callback) {\n\t  this.map.on('baselayerchange', function (event) {\n\t    callback(event);\n\t  });\n\t};\n\t\n\tDetailMap.prototype.updateLayer = function (layerName) {\n\t  if (this.baseLayers[layerName] != undefined) {\n\t    this.map.removeLayer(this.currentLayer);\n\t    this.currentLayer = this.baseLayers[layerName];\n\t    this.map.addLayer(this.currentLayer);\n\t  } else {\n\t    console.log('Error layer', layerName);\n\t  }\n\t};\n\t\n\tDetailMap.prototype.fitBounds = function (bound) {\n\t  this.map.fitBounds(bound);\n\t};\n\t\n\tDetailMap.prototype.onEvent = function (eventName, handler) {\n\t  this.map.on(eventName, function () {\n\t    handler(eventName);\n\t  });\n\t};\n\t\n\tDetailMap.prototype.disableAllInteraction = function () {\n\t  this.map.dragging.disable();\n\t  this.map.touchZoom.disable();\n\t  this.map.doubleClickZoom.disable();\n\t  this.map.scrollWheelZoom.disable();\n\t};\n\t\n\tDetailMap.prototype.getBounds = function () {\n\t  var bound = this.map.getBounds();\n\t  return bound;\n\t};\n\t\n\tDetailMap.prototype.getBoundsRegion = function () {\n\t  var bound = this.map.getBounds();\n\t  return bound;\n\t};\n\t\n\tDetailMap.prototype.worldToContaierPointsArr = function (arr) {\n\t  var outArr = [];\n\t  var time = new Date();\n\t  for (var i = 0, ilen = arr.length; i < ilen; i++) {\n\t    var newPoint = _leafLet2.default.latLng(arr[i][0], arr[i][1]);\n\t    outArr.push({ pos: this.map.latLngToContainerPoint(newPoint), 'type': arr[i][2] });\n\t  }\n\t  console.log('time', new Date() - time);\n\t  return outArr;\n\t};\n\t\n\tDetailMap.prototype.worldToContaierPointsObj = function (data) {\n\t  var arr = data.records;\n\t  var outArr = [];\n\t  var time = new Date();\n\t  for (var i = 0, ilen = arr.length; i < ilen; i++) {\n\t    var location = arr[i]['location'];\n\t\n\t    var newPoint = _leafLet2.default.latLng(location[1], location[0]);\n\t    outArr.push({\n\t      'pos': this.map.latLngToContainerPoint(newPoint),\n\t      'rawdata': arr[i],\n\t      'type': arr[i]['max_attr']['attr'] });\n\t  }\n\t  console.log('time', new Date() - time);\n\t  return outArr;\n\t};\n\t\n\tDetailMap.prototype.contaierPointsToWorld = function (arr) {\n\t  var outArr = [];\n\t  var time = new Date();\n\t  for (var i = 0, ilen = arr.length; i < ilen; i++) {\n\t    var newPoint = _leafLet2.default.point(arr[i][0], arr[i][1]);\n\t    outArr.push(this.map.containerPointToLatLng(newPoint));\n\t  }\n\t  console.log('time', new Date() - time);\n\t  return outArr;\n\t};\n\t\n\tDetailMap.prototype.addCanvasLayer = function (callback) {\n\t  callback(this.map);\n\t};\n\t\n\tDetailMap.prototype.getMapInstance = function () {\n\t  return this.map;\n\t};\n\t\n\tDetailMap.prototype.getZoomLevel = function () {\n\t  return this.map.getZoom();\n\t};\n\t\n\texports.default = DetailMap;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(2);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vueResource = __webpack_require__(56);\n\t\n\tvar _vueResource2 = _interopRequireDefault(_vueResource);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vueResource2.default);\n\t\n\tvar dataServerUrl = \"\";\n\tvar $http = _vue2.default.http;\n\t\n\tfunction getTestData(callback) {\n\t\n\t  var url = dataServerUrl + '/test';\n\t  $http.get(url).then(function (response) {\n\t    callback(JSON.parse(response.data));\n\t  }, function (errResponse) {\n\t    console.log(errResponse);\n\t  });\n\t}\n\t\n\tfunction getAllRecordsForOneCity(cityId, callback) {\n\t\n\t  var url = dataServerUrl + '/getallrecords';\n\t  console.log('get all data', url);\n\t  $http.post(url, { 'cityId': cityId }).then(function (response) {\n\t    callback(JSON.parse(response.data));\n\t  }, function (errResponse) {\n\t    console.log(errResponse);\n\t  });\n\t}\n\t\n\tfunction queryRegionFromBackground(cityId, positions, callback) {\n\t  var url = dataServerUrl + '/regionquery';\n\t  console.log('post');\n\t  $http.post(url, { 'cityId': cityId, 'positions': positions }).then(function (response) {\n\t    callback(JSON.parse(response.data));\n\t  }, function (errResponse) {\n\t    console.log(errResponse);\n\t  });\n\t}\n\t\n\texports.default = {\n\t  getTestData: getTestData,\n\t  getAllRecordsForOneCity: getAllRecordsForOneCity,\n\t  queryRegionFromBackground: queryRegionFromBackground\n\t};\n\n/***/ },\n/* 5 */,\n/* 6 */,\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Navbar = __webpack_require__(40);\n\t\n\tvar _Navbar2 = _interopRequireDefault(_Navbar);\n\t\n\tvar _ControlPanel = __webpack_require__(38);\n\t\n\tvar _ControlPanel2 = _interopRequireDefault(_ControlPanel);\n\t\n\tvar _Navigation = __webpack_require__(41);\n\t\n\tvar _Navigation2 = _interopRequireDefault(_Navigation);\n\t\n\tvar _ComparisionContainer = __webpack_require__(37);\n\t\n\tvar _ComparisionContainer2 = _interopRequireDefault(_ComparisionContainer);\n\t\n\tvar _Analysis = __webpack_require__(35);\n\t\n\tvar _Analysis2 = _interopRequireDefault(_Analysis);\n\t\n\t__webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'app',\n\t  components: {\n\t    Navbar: _Navbar2.default,\n\t    ControlPanel: _ControlPanel2.default,\n\t    Navigation: _Navigation2.default,\n\t    CompContainer: _ComparisionContainer2.default,\n\t    Analysis: _Analysis2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      svFeatures2Color: {\n\t        'green': '#2ca02c',\n\t        'sky': '#17becf',\n\t        'road': '#8c564b',\n\t        'building': '#ff7f0e',\n\t        'car': '#ff9896',\n\t        'others': '#c7c7c7',\n\t        'allFeatures': ['green', 'sky', 'road', 'building', 'car', 'others']\n\t      }\n\t    };\n\t  },\n\t  mounted: function mounted() {}\n\t};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pipeService = __webpack_require__(1);\n\t\n\tvar _pipeService2 = _interopRequireDefault(_pipeService);\n\t\n\tvar _BarChart = __webpack_require__(44);\n\t\n\tvar _BarChart2 = _interopRequireDefault(_BarChart);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'analysis',\n\t  props: ['svFeatures2Color'],\n\t  components: {\n\t    BarChart: _BarChart2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      title: 'Analysis View',\n\t      queryList: []\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t    _pipeService2.default.onRegionQueryDataRecieved(function (data) {\n\t      _this.queryList.push(_this.praseRegionQueryResult(data));\n\t    });\n\t  },\n\t\n\t  computed: {},\n\t\n\t  methods: {\n\t    parseFeatures: function parseFeatures() {},\n\t    praseRegionQueryResult: function praseRegionQueryResult(data) {\n\t      var time = new Date();\n\t      var region = data['region'];\n\t      var records = data['records'];\n\t      var features = this.svFeatures2Color['allFeatures'];\n\t      var featureStaDict = {};\n\t      var featureRatioDict = {};\n\t      features.forEach(function (feature) {\n\t        featureStaDict[feature] = 0;\n\t      });\n\t      var sum = 0;\n\t\n\t      var _loop = function _loop() {\n\t        var record = records[i];\n\t        features.forEach(function (feature) {\n\t          featureStaDict[feature] += parseFloat(record[feature]);\n\t          sum += parseFloat(record[feature]);\n\t        });\n\t      };\n\t\n\t      for (var i = 0, ilen = records.length; i < ilen; i++) {\n\t        _loop();\n\t      }\n\t      features.forEach(function (feature) {\n\t        featureRatioDict[feature] = featureStaDict[feature] / sum;\n\t      });\n\t\n\t      var output = {\n\t        cityId: data['cityId'],\n\t        featureArr: features,\n\t        featureSta: featureStaDict,\n\t        featureRatio: featureRatioDict,\n\t        number: records.length\n\t      };\n\t      return output;\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pipeService = __webpack_require__(1);\n\t\n\tvar _pipeService2 = _interopRequireDefault(_pipeService);\n\t\n\tvar _DetailMap = __webpack_require__(3);\n\t\n\tvar _DetailMap2 = _interopRequireDefault(_DetailMap);\n\t\n\tvar _dataService = __webpack_require__(4);\n\t\n\tvar _dataService2 = _interopRequireDefault(_dataService);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'comp-mapview',\n\t  props: ['cityInfo'],\n\t  data: function data() {\n\t    return {\n\t      title: 'comp-mapview',\n\t      points_world: []\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t    this.createMap();\n\t\n\t    _dataService2.default.getAllRecordsForOneCity(this.cityInfo['id'], function (data) {\n\t      console.log('constant send');\n\t      _this.points_world = data;\n\t      var current_points = _this.mapObj.worldToContaierPointsArr(_this.points_world);\n\t      _pipeService2.default.emitUpdateAllResultData({\n\t        'cityId': _this.cityInfo['id'],\n\t        'data': current_points });\n\t\n\t      _pipeService2.default.emitMapInstance({\n\t        'cityId': _this.cityInfo['id'],\n\t        'map': _this.mapObj.getMapInstance()\n\t      });\n\t    });\n\t    _pipeService2.default.onInteractiveSelection(function (msg) {\n\t      var cityId = msg['cityId'];\n\t      var positions = msg['region'];\n\t      if (positions.length <= 2) return;\n\t      if (cityId != _this.cityInfo.id) return;\n\t      var world_position = _this.mapObj.contaierPointsToWorld(positions);\n\t      _dataService2.default.queryRegionFromBackground(_this.cityInfo['id'], world_position, function (data) {\n\t        _pipeService2.default.emitRegionQueryDataRecieved(data);\n\t      });\n\t    });\n\t    _pipeService2.default.onUpdateMapLayer(function (msg) {\n\t      var cityId = msg['cityId'];\n\t      if (cityId != _this.cityInfo.id) return;\n\t      _this.mapObj.updateLayer(msg['layerName']);\n\t    });\n\t  },\n\t\n\t  computed: {\n\t    cityId: function cityId() {\n\t      return this.cityInfo.id;\n\t    }\n\t  },\n\t  watch: {\n\t    'cityInfo.bound': function cityInfoBound(newData, oldData) {\n\t      var _this = this;\n\t      if (newData == null) return;\n\t      if (!this.mapObj) return;\n\t      this.mapObj.fitBounds(newData);\n\t\n\t      if (this.points_world && this.points_world.length != 0) {\n\t        setTimeout(function () {\n\t          var zoomLevel = _this.mapObj.getZoomLevel();\n\t          console.log('level', zoomLevel);\n\t          if (zoomLevel >= 13) {\n\t            var regions = _this.mapObj.getBoundsRegion();\n\t            var positions = [regions.getSouthWest(), regions.getSouthEast(), regions.getNorthEast(), regions.getNorthWest()];\n\t\n\t            _dataService2.default.queryRegionFromBackground(_this.cityInfo['id'], positions, function (data) {\n\t              console.log('here');\n\t              var current_points = _this.mapObj.worldToContaierPointsObj(data);\n\t              _pipeService2.default.emitUpdateAllResultData({\n\t                'cityId': _this.cityInfo['id'],\n\t                'data': current_points,\n\t                'zoomLevel': zoomLevel });\n\t            });\n\t          } else {\n\t            var current_points = _this.mapObj.worldToContaierPointsArr(_this.points_world);\n\t            _pipeService2.default.emitUpdateAllResultData({\n\t              'cityId': _this.cityInfo['id'],\n\t              'data': current_points,\n\t              'zoomLevel': zoomLevel });\n\t          }\n\t        }, 400);\n\t      }\n\t    }\n\t  },\n\t  methods: {\n\t    createMap: function createMap() {\n\t      this.mapObj = new _DetailMap2.default(this.$el, this.cityInfo);\n\t      this.mapObj.init();\n\t      this.mapObj.disableAllInteraction();\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pipeService = __webpack_require__(1);\n\t\n\tvar _pipeService2 = _interopRequireDefault(_pipeService);\n\t\n\tvar _CompMapView = __webpack_require__(36);\n\t\n\tvar _CompMapView2 = _interopRequireDefault(_CompMapView);\n\t\n\tvar _PointsView = __webpack_require__(42);\n\t\n\tvar _PointsView2 = _interopRequireDefault(_PointsView);\n\t\n\tvar _SelectionLayer = __webpack_require__(43);\n\t\n\tvar _SelectionLayer2 = _interopRequireDefault(_SelectionLayer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'comparision-container',\n\t  props: ['svFeatures2Color'],\n\t  data: function data() {\n\t    return {\n\t      title: 'Comparision View',\n\t      cities: [],\n\t      candidates: {\n\t        'nyc': {\n\t          'name': 'New York',\n\t          'gps': [40.7058253, -74.1180861],\n\t          'id': 'nyc',\n\t          'bound': null },\n\t        'singapore': {\n\t          'name': 'Singapore',\n\t          'gps': [1.3149014, 103.7769792],\n\t          'id': 'singapore',\n\t          'bound': null },\n\t        'hk': {\n\t          'name': 'Hong Kong',\n\t          'gps': [22.365354, 114.105228],\n\t          'id': 'hk',\n\t          'bound': null },\n\t        'london': {\n\t          'name': 'London',\n\t          'gps': [51.528308, -0.3817765],\n\t          'id': 'london',\n\t          'bound': null }\n\t      }\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t    _pipeService2.default.onUpdateSelectedMapView(function (city_id_arr) {\n\t      _this.cities = [];\n\t      for (var i = 0, ilen = city_id_arr.length; i < ilen; i++) {\n\t        var city_id = city_id_arr[i];\n\t        _this.cities.push(_this.candidates[city_id]);\n\t      }\n\t    });\n\t  },\n\t  created: function created() {\n\t    var _this = this;\n\t    _pipeService2.default.onUpdateMapBound(function (para) {\n\t      var _id = para['id'];\n\t      if (_this.candidates[_id] == undefined) return;\n\t      _this.candidates[_id]['bound'] = para['region'];\n\t    });\n\t  },\n\t\n\t  computed: {},\n\t  components: {\n\t    CompMap: _CompMapView2.default,\n\t    PointsView: _PointsView2.default,\n\t    SelectionLayer: _SelectionLayer2.default\n\t  }\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'control',\n\t  data: function data() {\n\t    return {\n\t      title: \"Control Pannel\",\n\t      parameters: [{ 'name': 'B1', 'type': 'radio' }, { 'name': 'B2', 'type': 'slider' }, { 'name': 'B3', 'type': 'inputbox' }]\n\t    };\n\t  }\n\t};\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pipeService = __webpack_require__(1);\n\t\n\tvar _pipeService2 = _interopRequireDefault(_pipeService);\n\t\n\tvar _DetailMap = __webpack_require__(3);\n\t\n\tvar _DetailMap2 = _interopRequireDefault(_DetailMap);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'mapview',\n\t  props: ['cityInfo'],\n\t  data: function data() {\n\t    return {\n\t      title: 'mapview'\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    this.createMap();\n\t    this.sendMapRegion();\n\t  },\n\t\n\t  computed: {},\n\t  methods: {\n\t    sendMapRegion: function sendMapRegion() {\n\t      var _this = this;\n\t      if (!this.mapObj) return;\n\t      var region = this.mapObj.getBounds();\n\t      _pipeService2.default.emitUpdateMapBound({\n\t        'region': region,\n\t        'id': _this.cityInfo['id']\n\t      });\n\t    },\n\t    createMap: function createMap() {\n\t      var _this = this;\n\t      this.mapObj = new _DetailMap2.default(this.$el, this.cityInfo);\n\t      this.mapObj.init();\n\t      this.mapObj.enableControlLayer();\n\t      this.mapObj.onEvent('zoomend', function (event) {\n\t        _this.sendMapRegion();\n\t      });\n\t      this.mapObj.onEvent('dragend', function (event) {\n\t        _this.sendMapRegion();\n\t      });\n\t      this.mapObj.onEvent('zoomstart', function (event) {\n\t        _pipeService2.default.emitCompMapZoomStart({ 'cityId': _this.cityInfo['id'] });\n\t      });\n\t      this.mapObj.onEvent('movestart', function (event) {\n\t        _pipeService2.default.emitCompMapDragStart({ 'cityId': _this.cityInfo['id'] });\n\t      });\n\t\n\t      this.mapObj.onBaseLayerChange(function (event) {\n\t        _pipeService2.default.emitUpdateMapLayer({\n\t          'cityId': _this.cityInfo['id'],\n\t          'layerName': event.name\n\t        });\n\t      });\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _dataService = __webpack_require__(4);\n\t\n\tvar _dataService2 = _interopRequireDefault(_dataService);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'navbar',\n\t  data: function data() {\n\t    return {\n\t      title: 'Street View Analysis',\n\t      buttons: [{ 'name': 'Start', 'link': \"http://www.huamin.org/\" }],\n\t      data: null\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    clcTest: function clcTest() {\n\t      var _this = this;\n\t      _dataService2.default.getTestData(function (promise) {\n\t        console.log('promise', promise);\n\t        _this.data = promise.data;\n\t      });\n\t    },\n\t    testGetAllCity: function testGetAllCity() {\n\t      _dataService2.default.getAllRecordsForOneCity('hk', function (data) {\n\t        console.log('promise', data);\n\t      });\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t__webpack_require__(21);\n\t\n\tvar _NavMapView = __webpack_require__(39);\n\t\n\tvar _NavMapView2 = _interopRequireDefault(_NavMapView);\n\t\n\tvar _pipeService = __webpack_require__(1);\n\t\n\tvar _pipeService2 = _interopRequireDefault(_pipeService);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'navigation',\n\t  watch: {\n\t    checkedItem: {\n\t      deep: 'true',\n\t      handler: function handler(newValue, oldValue) {\n\t        if (newValue.length == 2) {\n\t          for (var i = 0, ilen = this.cities.length; i < ilen; i++) {\n\t            this.cities[i].notDisabled = 0;\n\t            for (var j = 0, jlen = newValue.length; j < jlen; j++) {\n\t              if (newValue[j] == this.cities[i].id) this.cities[i].notDisabled = 1;\n\t            }\n\t          }\n\t        } else {\n\t          for (var i = 0, ilen = this.cities.length; i < ilen; i++) {\n\t            this.cities[i].notDisabled = 1;\n\t          }\n\t        }\n\t        _pipeService2.default.emitUpdateSelectedMapView(newValue);\n\t      }\n\t    }\n\t  },\n\t  data: function data() {\n\t    return {\n\t      title: 'Navigation View',\n\t\n\t      checkedItem: [],\n\t      cities: [{\n\t        'name': 'New York',\n\t        'gps': [40.7058253, -74.1180861],\n\t        'id': 'nyc',\n\t        'selected': false,\n\t        'notDisabled': 1\n\t      }, {\n\t        'name': 'Singapore',\n\t        'gps': [1.3149014, 103.7769792],\n\t        'id': 'singapore',\n\t        'selected': false,\n\t        'notDisabled': 1\n\t      }, {\n\t        'name': 'Hong Kong',\n\t        'gps': [22.365354, 114.105228],\n\t        'id': 'hk',\n\t        'selected': false,\n\t        'notDisabled': 1\n\t      }, {\n\t        'name': 'London',\n\t        'gps': [51.528308, -0.3817765],\n\t        'id': 'london',\n\t        'selected': false,\n\t        'notDisabled': 1\n\t      }]\n\t    };\n\t  },\n\t  mounted: function mounted() {},\n\t\n\t  computed: {\n\t    newMessage: function newMessage() {\n\t      return this.title;\n\t    },\n\t    new_style: function new_style() {\n\t      var width = 350 * this.cities.length + 'px';\n\t      return { width: width };\n\t    }\n\t\n\t  },\n\t  components: {\n\t    NavMapView: _NavMapView2.default\n\t  }\n\t\n\t};\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _PointCloud = __webpack_require__(19);\n\t\n\tvar _PointCloud2 = _interopRequireDefault(_PointCloud);\n\t\n\tvar _pipeService = __webpack_require__(1);\n\t\n\tvar _pipeService2 = _interopRequireDefault(_pipeService);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'pointsview',\n\t  props: ['cityInfo', 'svFeatures2Color'],\n\t  data: function data() {\n\t    return {\n\t      title: 'Points View'\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t    _pipeService2.default.onUpdateAllResultData(function (msg) {\n\t      if (msg.cityId == _this.cityInfo.id) {\n\t        _this.pointView.updatePointCloud(msg.data, msg.zoomLevel);\n\t      }\n\t    });\n\t    _pipeService2.default.onCompMapZoomStart(function (msg) {\n\t      if (msg.cityId == _this.cityInfo.id) {\n\t        _this.pointView.updatePointCloud([]);\n\t      }\n\t    });\n\t    _pipeService2.default.onCompMapDragStart(function (msg) {\n\t      if (msg.cityId == _this.cityInfo.id) {\n\t        _this.pointView.updatePointCloud([]);\n\t      }\n\t    });\n\t    this.createPointsView();\n\t  },\n\t\n\t  computed: {},\n\t  methods: {\n\t    createPointsView: function createPointsView() {\n\t      this.pointView = new _PointCloud2.default(this.$el);\n\t      this.pointView.init();\n\t      this.pointView.animate();\n\t      this.pointView.setColorStyle(this.svFeatures2Color);\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _DragSelection = __webpack_require__(18);\n\t\n\tvar _DragSelection2 = _interopRequireDefault(_DragSelection);\n\t\n\tvar _pipeService = __webpack_require__(1);\n\t\n\tvar _pipeService2 = _interopRequireDefault(_pipeService);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'select-layer',\n\t  props: ['cityInfo'],\n\t  data: function data() {\n\t    return {\n\t      title: 'Points View'\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    this.createSelectLayer();\n\t  },\n\t\n\t  computed: {},\n\t  methods: {\n\t    createSelectLayer: function createSelectLayer() {\n\t      var _this = this;\n\t      this.dragSelection = new _DragSelection2.default(this.$el);\n\t      this.dragSelection.registerDragEnd(function (event) {\n\t        var selectionRegion = event.subject;\n\t        _pipeService2.default.emitInteractiveSelection({\n\t          'cityId': _this.cityInfo.id, 'region': selectionRegion\n\t        });\n\t      });\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _d = __webpack_require__(5);\n\t\n\tvar d3 = _interopRequireWildcard(_d);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\texports.default = {\n\t  name: 'barchart',\n\t  props: ['regionQueryData', 'svFeatures2Color'],\n\t  data: function data() {\n\t    return {\n\t      title: 'BarChart'\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    this.drawBarChart();\n\t  },\n\t\n\t  computed: {},\n\t  methods: {\n\t    drawBarChart: function drawBarChart() {\n\t      var _this = this;\n\t      var width = this.$el.clientWidth;\n\t      var height = this.$el.clientHeight;\n\t      var featureArr = this.svFeatures2Color['allFeatures'];\n\t      var barNum = featureArr.length;\n\t      var featureTextLength = 60;\n\t      console.log('width', width, height, this.svFeatures2Color);\n\t\n\t      var svgContainer = d3.select(this.$el).append('g');\n\t      var barsContainer = svgContainer.selectAll('.bar').data(featureArr).enter().append('g').attr('class', 'bar').attr('transform', function (d, i) {\n\t        return 'translate(' + 0 + ',' + i * height / (barNum + 1) + ')';\n\t      });\n\t      var bars = barsContainer.append('rect').attr('x', featureTextLength).attr('width', function (d) {\n\t        return _this.regionQueryData['featureRatio'][d] * width * 1.5;\n\t      }).attr('height', function (d) {\n\t        return height / (barNum + 1) - 10;\n\t      }).attr('fill', function (d) {\n\t        return _this.svFeatures2Color[d];\n\t      }).attr('fill-opacity', 0.8);\n\t      bars.append('title').text(function (d) {\n\t        return d;\n\t      });\n\t\n\t      barsContainer.append('text').text(function (d) {\n\t        return d;\n\t      }).attr('x', 5).attr('y', 10);\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _d = __webpack_require__(5);\n\t\n\tvar d3 = _interopRequireWildcard(_d);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar DragSelection = function DragSelection(el) {\n\t  var _this = this;\n\t  this.$el = el;\n\t  this.width = el.clientWidth;\n\t  this.height = el.clientHeight;\n\t\n\t  var select_container = d3.select(this.$el).append('svg');\n\t  select_container.attr('width', this.width).attr('height', this.height);\n\t\n\t  var line = d3.line().curve(d3.curveBasis);\n\t\n\t  select_container.call(d3.drag().container(function () {\n\t    return this;\n\t  }).subject(function () {\n\t    var p = [d3.event.x, d3.event.y];\n\t    return [p, p];\n\t  }).on(\"start\", dragstarted).on('end', function () {\n\t    if (_this.dragCallBack) _this.dragCallBack(d3.event);\n\t    select_container.selectAll('path').remove();\n\t  }));\n\t\n\t  function dragstarted() {\n\t    var d = d3.event.subject,\n\t        active_select = select_container.append(\"path\").datum(d),\n\t        x0 = d3.event.x,\n\t        y0 = d3.event.y;\n\t    d3.event.on(\"drag\", function () {\n\t      var x1 = d3.event.x,\n\t          y1 = d3.event.y,\n\t          dx = x1 - x0,\n\t          dy = y1 - y0;\n\t\n\t      if (dx * dx + dy * dy > 100) d.push([x0 = x1, y0 = y1]);else d[d.length - 1] = [x1, y1];\n\t      active_select.attr(\"d\", line).attr('fill-opacity', 0.3).attr('fill', 'white');\n\t    });\n\t  }\n\t};\n\t\n\tDragSelection.prototype.registerDragEnd = function (endDragCallback) {\n\t  this.dragCallBack = endDragCallback;\n\t};\n\t\n\texports.default = DragSelection;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Three = __webpack_require__(6);\n\t\n\tvar _Three2 = _interopRequireDefault(_Three);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar PointCloud = function PointCloud(el) {\n\t  this.$el = el;\n\t  this.width = this.$el.clientWidth;\n\t  this.height = this.$el.clientHeight;\n\t};\n\t\n\tPointCloud.prototype.setColorStyle = function (colorStyle) {\n\t  this.colorStyle = colorStyle;\n\t};\n\t\n\tPointCloud.prototype.init = function () {\n\t  this.container = document.createElement('div');\n\t\n\t  this.$el.appendChild(this.container);\n\t\n\t  this.camera = new _Three2.default.OrthographicCamera(-this.width / 2, this.width / 2, this.height / 2, -this.height / 2, -100000, 100000);\n\t  this.camera.position.set(0, 0, 2000);\n\t  this.camera.lookAt(0, 0, 0);\n\t  this.scene = new _Three2.default.Scene();\n\t  this.scene.fog = new _Three2.default.FogExp2(0x000000, 0.0007);\n\t\n\t  this.initRender();\n\t};\n\tfunction generateData() {\n\t  var arr = [];\n\t  for (var i = 0; i < 150000; i++) {\n\t    arr.push({\n\t      x: Math.random() * 3000 - 1500,\n\t      y: Math.random() * 3000 - 1500\n\t    });\n\t  }\n\t  return arr;\n\t}\n\tfunction generateWorldData(width, total) {\n\t  this.width = width;\n\t  this.height = 400;\n\t  var arr = [];\n\t  for (var i = 0; i < total; i++) {\n\t    arr.push({\n\t      x: Math.random() * this.width,\n\t      y: Math.random() * this.height\n\t\n\t    });\n\t  }\n\t  return arr;\n\t}\n\t\n\tfunction generateAnotherWorldData(width, total) {\n\t  this.width = width;\n\t  this.height = 500;\n\t  var arr = [];\n\t  for (var i = 0; i < total; i++) {\n\t    arr.push({\n\t      x: Math.random() * this.width - this.width / 2,\n\t      y: Math.random() * this.height - this.height / 2\n\t\n\t    });\n\t  }\n\t  return arr;\n\t}\n\t\n\tPointCloud.prototype.setData = function (arr, level) {\n\t\n\t  var _this = this;\n\t  _this.scene.children.forEach(function (object) {\n\t    _this.scene.remove(object);\n\t  });\n\t  var point_size = 1;\n\t  if (!arr || arr.length == 0) return;\n\t  if (level > 14) {\n\t    point_size = 1 + 50 / Math.abs(level - 19) * Math.abs(14 - level);\n\t  }\n\t  console.log('pointsize', point_size);\n\t  var geometry = new _Three2.default.Geometry();\n\t  var colors = [];\n\t  for (var i = 0; i < arr.length; i++) {\n\t    var item = arr[i].pos;\n\t    var type = arr[i].type;\n\t    var vertex = new _Three2.default.Vector3(item['x'], item['y'], 0);\n\t    var world_vertex = this.screenToWorldOrth(vertex);\n\t    colors.push(new _Three2.default.Color(this.getColor(type)));\n\t    geometry.vertices.push(world_vertex);\n\t  }\n\t  geometry.colors = colors;\n\t  this.parameters = [[1, 1, 0.5], 5];\n\t\n\t  this.materials = new _Three2.default.PointsMaterial({\n\t    size: point_size,\n\t    transparent: true,\n\t    opacity: 0.7,\n\t    vertexColors: _Three2.default.VertexColors\n\t  });\n\t\n\t  var particles = new _Three2.default.Points(geometry, this.materials);\n\t  this.scene.add(particles);\n\t};\n\t\n\tPointCloud.prototype.getColor = function (type) {\n\t  if (this.colorStyle == undefined) {\n\t    if (type == 'green') return '#2ca02c';else if (type == 'sky') return '#17becf';else if (type == 'road') return '#8c564b';else if (type == 'building') return '#ff7f0e';\n\t  } else {\n\t    if (this.colorStyle[type] == undefined) {\n\t      console.log('Error in color style');\n\t    }\n\t    return this.colorStyle[type];\n\t  }\n\t};\n\tPointCloud.prototype.clearAll = function () {\n\t  var _this = this;\n\t  _this.scene.children.forEach(function (object) {\n\t    _this.scene.remove(object);\n\t  });\n\t};\n\t\n\tPointCloud.prototype.initRender = function () {\n\t  this.renderer = new _Three2.default.WebGLRenderer({ alpha: true });\n\t  this.renderer.setPixelRatio(window.devicePixelRatio);\n\t  this.renderer.setSize(this.$el.clientWidth, this.$el.clientHeight);\n\t  this.container.appendChild(this.renderer.domElement);\n\t};\n\t\n\tPointCloud.prototype.animate = function () {\n\t  var _this = this;\n\t  function animate() {\n\t    requestAnimationFrame(animate);\n\t    _this.render();\n\t  }\n\t  animate();\n\t};\n\t\n\tPointCloud.prototype.render = function () {\n\t  if (!this.materials) return;\n\t  this.renderer.render(this.scene, this.camera);\n\t};\n\t\n\tPointCloud.prototype.updatePointCloud = function (data, level) {\n\t  this.setData(data, level);\n\t};\n\t\n\tPointCloud.prototype.screenToWorld = function (position) {\n\t  var vector = new _Three2.default.Vector3();\n\t  vector.set(position.x / this.width * 2 - 1, -(position.y / this.height) * 2 + 1, 0.5);\n\t  vector.unproject(this.camera);\n\t  var dir = vector.sub(this.camera.position).normalize();\n\t  var distance = -this.camera.position.z / dir.z;\n\t  var pos = this.camera.position.clone().add(dir.multiplyScalar(distance));\n\t  return pos;\n\t};\n\t\n\tPointCloud.prototype.screenToWorldOrth = function (position) {\n\t  return new _Three2.default.Vector3(position.x - this.width / 2, -position.y + this.height / 2, 0);\n\t};\n\t\n\tPointCloud.prototype.worldToScreen = function (position) {\n\t  var pos = position.clone();\n\t\n\t  pos.project(this.camera);\n\t  pos.x = (pos.x + 1) * this.width / 2;\n\t  pos.y = (-pos.y + 1) * this.height / 2;\n\t  var particlePos = pos;\n\t  particlePos.value = position.value;\n\t  return particlePos;\n\t};\n\t\n\tPointCloud.prototype.switchCoordinate = function (position) {\n\t  var x = position.x,\n\t      y = position.y;\n\t\n\t  var pos = new _Three2.default.Vector3(0, 0, 0);\n\t  var pMouse = new _Three2.default.Vector3(x / this.width * 2 - 1, -(y / this.height) * 2 + 1, 1);\n\t\n\t  pMouse.project(this.camera);\n\t\n\t  var cam = this.camera.position;\n\t  var m = pMouse.y / (pMouse.y - cam.y);\n\t\n\t  pos.x = pMouse.x + (cam.x - pMouse.x) * m;\n\t  pos.z = pMouse.z + (cam.z - pMouse.z) * m;\n\t\n\t  return pos;\n\t};\n\t\n\tPointCloud.prototype.getCanvas = function () {\n\t  return this.renderer.domElement;\n\t};\n\t\n\tPointCloud.prototype.setCanvasToMap = function (callback) {\n\t  callback(this.renderer.domElement);\n\t};\n\t\n\texports.default = PointCloud;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 32 */,\n/* 33 */,\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(29)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(7)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(53)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-774cd6c9\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(22)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(8)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(45)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-0df01d4a\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(28)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(9)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(52)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-74d66c14\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(31)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(10)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(55)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-d98b061e\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(11)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(48)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(25)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(12)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(49)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-3b3ee36c\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(24)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(13)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(47)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-34526c04\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(27)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(14)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(51)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-6a2509fc\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(30)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(15)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(54)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-9449add4\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(23)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(16)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(46)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-19dff093\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(26)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(17)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(50)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-5939974b\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 45 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"statistic-list\"\n\t  }, [_c('div', [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _vm._l((_vm.queryList), function(query) {\n\t    return _c('div', {\n\t      staticClass: \"barChartContainer-container\"\n\t    }, [_c('label', [_vm._v(\" \" + _vm._s(query.cityId) + \" \" + _vm._s(query.number))]), _vm._v(\" \"), _c('BarChart', {\n\t      attrs: {\n\t        \"regionQueryData\": query,\n\t        \"svFeatures2Color\": _vm.svFeatures2Color\n\t      }\n\t    })], 1)\n\t  })], 2)\n\t},staticRenderFns: []}\n\n/***/ },\n/* 46 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"selection-layer\"\n\t  })\n\t},staticRenderFns: []}\n\n/***/ },\n/* 47 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('nav', {\n\t    staticClass: \"navbar navbar-default navbar-custom\"\n\t  }, [_c('div', {\n\t    staticClass: \"container\"\n\t  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"navbar-collapse collapse navbar-right\"\n\t  }, [_c('ul', {\n\t    staticClass: \"nav navbar-nav\"\n\t  }, [_c('li', [_c('a', {\n\t    on: {\n\t      \"click\": _vm.clcTest\n\t    }\n\t  }, [_vm._v(\"Test\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n\t    on: {\n\t      \"click\": _vm.testGetAllCity\n\t    }\n\t  }, [_vm._v(\"getall\")])]), _vm._v(\" \"), _vm._l((_vm.buttons), function(item) {\n\t    return _c('li', [_c('a', {\n\t      attrs: {\n\t        \"href\": item.link\n\t      }\n\t    }, [_vm._v(_vm._s(item.name))])])\n\t  }), _vm._v(\" \"), _vm._m(1)], 2), _vm._v(\" \"), _vm._m(2)])])])\n\t},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"navbar-header\"\n\t  }, [_c('a', {\n\t    staticClass: \"navbar-brand hidden-sm\",\n\t    attrs: {\n\t      \"href\": \"http://vis.cse.ust.hk/\"\n\t    }\n\t  }, [_vm._v(\"Navbar head\")])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('li', {\n\t    staticClass: \"dropdown\"\n\t  }, [_c('a', {\n\t    staticClass: \"dropdown-toggle\",\n\t    attrs: {\n\t      \"href\": \"#\",\n\t      \"data-toggle\": \"dropdown\"\n\t    }\n\t  }, [_vm._v(\"Choose Data \"), _c('span', {\n\t    staticClass: \"caret\"\n\t  })]), _vm._v(\" \"), _c('ul', {\n\t    staticClass: \"dropdown-menu\",\n\t    attrs: {\n\t      \"role\": \"menu\"\n\t    }\n\t  }, [_c('li', [_c('a', {\n\t    attrs: {\n\t      \"href\": \"#\"\n\t    }\n\t  }, [_vm._v(\"Button\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n\t    attrs: {\n\t      \"href\": \"#\"\n\t    }\n\t  }, [_vm._v(\"Button\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n\t    attrs: {\n\t      \"href\": \"#\"\n\t    }\n\t  }, [_vm._v(\"Button\")])]), _vm._v(\" \"), _c('li', {\n\t    staticClass: \"divider\"\n\t  }), _vm._v(\" \"), _c('li', {\n\t    staticClass: \"dropdown-header\"\n\t  }, [_vm._v(\"Description\")]), _vm._v(\" \"), _c('li', [_c('a', {\n\t    attrs: {\n\t      \"href\": \"#\"\n\t    }\n\t  }, [_vm._v(\"Button\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n\t    attrs: {\n\t      \"href\": \"#\"\n\t    }\n\t  }, [_vm._v(\"Button\")])])])])\n\t},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('ul', {\n\t    staticClass: \"nav navbar-nav navbar-right hidden-sm\"\n\t  }, [_c('li', [_c('a', {\n\t    attrs: {\n\t      \"href\": \"\"\n\t    }\n\t  }, [_vm._v(\"About\")])])])\n\t}]}\n\n/***/ },\n/* 48 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', [_c('div', [_vm._v(_vm._s(_vm.title) + \" \")]), _vm._v(\" \"), _vm._l((_vm.parameters), function(para) {\n\t    return _c('button', {\n\t      staticClass: \"btn btn-primary dataset-btn ng-scope ng-binding\"\n\t    }, [_vm._v(_vm._s(para.name))])\n\t  })], 2)\n\t},staticRenderFns: []}\n\n/***/ },\n/* 49 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"nav-mapview\"\n\t  })\n\t},staticRenderFns: []}\n\n/***/ },\n/* 50 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('svg', {\n\t    staticClass: \"barChart\"\n\t  })\n\t},staticRenderFns: []}\n\n/***/ },\n/* 51 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"navigation\",\n\t    attrs: {\n\t      \"id\": \"navigation\"\n\t    }\n\t  }, [_c('div', [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _c('div', {\n\t    staticStyle: {\n\t      \"height\": \"100%\"\n\t    },\n\t    style: (_vm.new_style)\n\t  }, _vm._l((_vm.cities), function(cityInfo) {\n\t    return _c('div', {\n\t      staticClass: \"navmap-container\"\n\t    }, [_c('div', [_c('input', {\n\t      directives: [{\n\t        name: \"model\",\n\t        rawName: \"v-model\",\n\t        value: (_vm.checkedItem),\n\t        expression: \"checkedItem\"\n\t      }],\n\t      staticStyle: {\n\t        \"float\": \"left\",\n\t        \"margin-left\": \"10px\"\n\t      },\n\t      attrs: {\n\t        \"type\": \"checkbox\",\n\t        \"disabled\": cityInfo.notDisabled == 1 ? false : true\n\t      },\n\t      domProps: {\n\t        \"value\": cityInfo.id,\n\t        \"checked\": Array.isArray(_vm.checkedItem) ? _vm._i(_vm.checkedItem, cityInfo.id) > -1 : (_vm.checkedItem)\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          var $$a = _vm.checkedItem,\n\t            $$el = $event.target,\n\t            $$c = $$el.checked ? (true) : (false);\n\t          if (Array.isArray($$a)) {\n\t            var $$v = cityInfo.id,\n\t              $$i = _vm._i($$a, $$v);\n\t            if ($$c) {\n\t              $$i < 0 && (_vm.checkedItem = $$a.concat($$v))\n\t            } else {\n\t              $$i > -1 && (_vm.checkedItem = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n\t            }\n\t          } else {\n\t            _vm.checkedItem = $$c\n\t          }\n\t        }\n\t      }\n\t    }), _vm._v(\" \"), _c('div', {\n\t      staticStyle: {\n\t        \"float\": \"left\",\n\t        \"margin-left\": \"20px\"\n\t      },\n\t      attrs: {\n\t        \"for\": \"checkbox\"\n\t      }\n\t    }, [_vm._v(_vm._s(cityInfo.name))])]), _vm._v(\" \"), _c('NavMapView', {\n\t      attrs: {\n\t        \"cityInfo\": cityInfo\n\t      }\n\t    })], 1)\n\t  }))])\n\t},staticRenderFns: []}\n\n/***/ },\n/* 52 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"comp-mapview\"\n\t  })\n\t},staticRenderFns: []}\n\n/***/ },\n/* 53 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_c('Navbar'), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"ui-row\"\n\t  }, [_c('div', {\n\t    staticClass: \"col-sm-9 col-md-9 col-lg-9 root-container \"\n\t  }, [_c('Navigation', {\n\t    staticClass: \"y-style-30\"\n\t  }), _vm._v(\" \"), _c('CompContainer', {\n\t    staticClass: \"y-style-70\",\n\t    attrs: {\n\t      \"svFeatures2Color\": _vm.svFeatures2Color\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"col-sm-4 col-md-3 col-lg-3 root-container\"\n\t  }, [_c('Analysis', {\n\t    staticClass: \"bstyle\",\n\t    attrs: {\n\t      \"svFeatures2Color\": _vm.svFeatures2Color\n\t    }\n\t  })], 1)])], 1)\n\t},staticRenderFns: []}\n\n/***/ },\n/* 54 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"point-view\"\n\t  })\n\t},staticRenderFns: []}\n\n/***/ },\n/* 55 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"comparision-container\"\n\t  }, [_c('div', [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _vm._l((_vm.cities), function(cityInfo) {\n\t    return _c('div', {\n\t      staticClass: \"compmap-container\"\n\t    }, [_c('CompMap', {\n\t      attrs: {\n\t        \"cityInfo\": cityInfo\n\t      }\n\t    }), _vm._v(\" \"), _c('div', {\n\t      staticClass: \"render_container\"\n\t    }, [_c('PointsView', {\n\t      staticClass: \"points-view\",\n\t      attrs: {\n\t        \"cityInfo\": cityInfo,\n\t        \"svFeatures2Color\": _vm.svFeatures2Color\n\t      }\n\t    }), _vm._v(\" \"), _c('SelectionLayer', {\n\t      staticClass: \"points-view2\",\n\t      attrs: {\n\t        \"cityInfo\": cityInfo\n\t      }\n\t    })], 1)], 1)\n\t  })], 2)\n\t},staticRenderFns: []}\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.cb2e3da677bf4ed3aea3.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  template: '<App/>',\r\n  components: { App },\r\n\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/**\r\n * Created by yiding on 2017/1/12.\r\n */\r\nimport Vue from 'vue'\r\n\r\nvar pipeService = new Vue({\r\n  data:{\r\n    UPDATEMAPBOUNDARY: 'update_map_bound',\r\n    UPDATEMAPVIEWSELECTION: 'update_select_map_view_selection',\r\n    ALLRESULTDATAREADYL: 'all_result_data_ready',\r\n    INTERACTIVESELECTION: 'interactive_select',\r\n    UPDATELAYER: 'update_layer',\r\n    REGIONQUERYDATARECIEVED: 'region_query_data_recieved',\r\n    MAPINSTANCE: 'map_instance',\r\n    ZOOMSTART: 'zoom_start',\r\n    DRAGSTAET: 'drag_start'\r\n  },\r\n\r\n  methods:{\r\n    emitUpdateMapBound: function(msg){\r\n      this.$emit(this.UPDATEMAPBOUNDARY, msg);\r\n    },\r\n    onUpdateMapBound: function(callback){\r\n      this.$on(this.UPDATEMAPBOUNDARY,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n    //------------------------------------------------------------\r\n    emitUpdateSelectedMapView: function(msg){\r\n      this.$emit(this.UPDATEMAPVIEWSELECTION, msg);\r\n    },\r\n    onUpdateSelectedMapView: function(callback){\r\n      this.$on(this.UPDATEMAPVIEWSELECTION,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n    //------------------------------------------------------------\r\n    emitUpdateAllResultData: function(msg){\r\n      this.$emit(this.ALLRESULTDATAREADYL, msg);\r\n    },\r\n    onUpdateAllResultData: function(callback){\r\n      this.$on(this.ALLRESULTDATAREADYL,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n    //------------------------------------------------------------\r\n    emitInteractiveSelection: function(msg){\r\n      this.$emit(this.INTERACTIVESELECTION, msg);\r\n    },\r\n    onInteractiveSelection: function(callback){\r\n      this.$on(this.INTERACTIVESELECTION,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n    //------------------------------------------------------------\r\n    emitUpdateMapLayer: function(msg){\r\n      this.$emit(this.UPDATELAYER, msg);\r\n    },\r\n    onUpdateMapLayer: function(callback){\r\n      this.$on(this.UPDATELAYER,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n    //------------------------------------------------------------\r\n    // From CompMapView to Analysis view\r\n    emitRegionQueryDataRecieved: function(msg){\r\n      this.$emit(this.REGIONQUERYDATARECIEVED, msg);\r\n    },\r\n    onRegionQueryDataRecieved: function(callback){\r\n      this.$on(this.REGIONQUERYDATARECIEVED,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n    //-------------------------------------------------------------\r\n    emitMapInstance: function(msg){\r\n      this.$emit(this.MAPINSTANCE, msg);\r\n    },\r\n    onMapInstance: function(callback){\r\n      this.$on(this.MAPINSTANCE,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n    //-------------------------------------------------------------\r\n    emitCompMapZoomStart: function(msg){\r\n      this.$emit(this.ZOOMSTART, msg);\r\n    },\r\n    onCompMapZoomStart: function(callback){\r\n      this.$on(this.ZOOMSTART,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n    //-------------------------------------------------------------\r\n    emitCompMapDragStart: function(msg){\r\n      this.$emit(this.DRAGSTAET, msg);\r\n    },\r\n    onCompMapDragStart: function(callback){\r\n      this.$on(this.DRAGSTAET,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n  }\r\n})\r\n\r\nexport default pipeService\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/pipeService.js","import L from 'leafLet'\r\n\r\nlet DetailMap = function(el, cityInfo){\r\n  this.$el = el;\r\n  this.cityInfo = cityInfo\r\n};\r\n\r\nDetailMap.prototype.init = function(){\r\n  this.cities = new L.LayerGroup();\r\n\r\n  var mbAttr = 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, ' +\r\n      '<a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, ' +\r\n      'Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\r\n    mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw';\r\n\r\n  this.grayscaleDark   = L.tileLayer(mbUrl, {id: 'mapbox.dark', attribution: null});\r\n  this.grayscaleLight   = L.tileLayer(mbUrl, {id: 'mapbox.light', attribution: null});\r\n  this.streets  = L.tileLayer(mbUrl, {id: 'mapbox.streets',   attribution: null});\r\n\r\n  this.map = L.map(this.$el, {\r\n    center: this.cityInfo.gps,\r\n    zoom: 9,\r\n    layers: [this.grayscaleDark, this.cities],\r\n    zoomControl: false,\r\n    maxZoom: 18\r\n  });\r\n\r\n  this.baseLayers = {\r\n    \"GrayScaleLight\": this.grayscaleLight,\r\n    \"GrayScaleDark\": this.grayscaleDark,\r\n    \"Streets\": this.streets\r\n  };\r\n\r\n  this.currentLayer = this.grayscaleLight;\r\n  // this.overlays = {\r\n  //   \"Cities\": this.cities\r\n  // };\r\n\r\n  if(this.cityInfo.bound) this.map.fitBounds(this.cityInfo.bound);\r\n};\r\n\r\nDetailMap.prototype.enableControlLayer = function(){\r\n  L.control.layers(this.baseLayers).addTo(this.map);\r\n};\r\n\r\nDetailMap.prototype.onBaseLayerChange = function(callback){\r\n  this.map.on('baselayerchange', function(event){\r\n    callback(event);\r\n  });\r\n};\r\n\r\nDetailMap.prototype.updateLayer = function(layerName){\r\n  if( this.baseLayers[layerName]!= undefined ){\r\n    this.map.removeLayer(this.currentLayer);\r\n    this.currentLayer = this.baseLayers[layerName];\r\n    this.map.addLayer(this.currentLayer);\r\n  }\r\n  else{\r\n    console.log('Error layer', layerName);\r\n  }\r\n};\r\n\r\nDetailMap.prototype.fitBounds = function(bound){\r\n  this.map.fitBounds(bound);\r\n};\r\n\r\nDetailMap.prototype.onEvent = function(eventName, handler){\r\n  this.map.on(eventName, function(){\r\n    handler(eventName);\r\n  });\r\n};\r\n\r\nDetailMap.prototype.disableAllInteraction = function(){\r\n  this.map.dragging.disable();\r\n  this.map.touchZoom.disable();\r\n  this.map.doubleClickZoom.disable();\r\n  this.map.scrollWheelZoom.disable();\r\n};\r\n\r\nDetailMap.prototype.getBounds = function(){\r\n  let bound = this.map.getBounds();\r\n  return bound;\r\n};\r\n\r\nDetailMap.prototype.getBoundsRegion = function(){\r\n  let bound = this.map.getBounds();\r\n  return bound;\r\n};\r\n\r\nDetailMap.prototype.worldToContaierPointsArr = function(arr){\r\n  let outArr = [];\r\n  let time = new Date();\r\n  for(var i = 0, ilen = arr.length; i < ilen; i++){\r\n    let newPoint = L.latLng(arr[i][0],arr[i][1]);\r\n    outArr.push({pos: this.map.latLngToContainerPoint(newPoint), 'type': arr[i][2]});\r\n  }\r\n  console.log('time', new Date() - time);\r\n  return outArr\r\n};\r\n\r\nDetailMap.prototype.worldToContaierPointsObj = function(data){\r\n  let arr = data.records;\r\n  let outArr = [];\r\n  let time = new Date();\r\n  for(var i = 0, ilen = arr.length; i < ilen; i++){\r\n    let location = arr[i]['location']\r\n    // Location[longtitude, latitude]\r\n    let newPoint = L.latLng(location[1], location[0]);\r\n    outArr.push({\r\n      'pos': this.map.latLngToContainerPoint(newPoint),\r\n      'rawdata': arr[i],\r\n      'type': arr[i]['max_attr']['attr']});\r\n  }\r\n  console.log('time', new Date() - time);\r\n  return outArr\r\n};\r\n\r\nDetailMap.prototype.contaierPointsToWorld = function(arr){\r\n  let outArr = [];\r\n  let time = new Date();\r\n  for(var i = 0, ilen = arr.length; i < ilen; i++){\r\n    let newPoint = L.point(arr[i][0],arr[i][1]);\r\n    outArr.push(this.map.containerPointToLatLng(newPoint));\r\n  }\r\n  console.log('time', new Date() - time);\r\n  return outArr\r\n};\r\n\r\nDetailMap.prototype.addCanvasLayer = function(callback){\r\n  callback(this.map);\r\n};\r\n\r\nDetailMap.prototype.getMapInstance = function(){\r\n  return this.map;\r\n};\r\n\r\nDetailMap.prototype.getZoomLevel = function(){\r\n  return this.map.getZoom();\r\n};\r\n\r\nexport default DetailMap\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/DetailMap.js","/**\n * Created by yiding on 2017/1/10.\n */\n\nimport Vue from 'vue'\nimport VueResource from 'vue-resource'\nVue.use(VueResource)\n\n// const dataServerUrl = \"http://127.0.0.1:9930\";\n// const dataServerUrl = \"/sv-analysis\";\nconst dataServerUrl = \"\"\nconst $http = Vue.http\n\nfunction getTestData (callback) {\n\n  const url = `${dataServerUrl}/test`\n  $http.get(url).then(response => {\n    callback(JSON.parse(response.data))\n  }, errResponse => {\n    console.log(errResponse)\n  })\n}\n\nfunction getAllRecordsForOneCity(cityId, callback) {\n\n  const url = `${dataServerUrl}/getallrecords`\n  console.log('get all data', url);\n  $http.post(url, {'cityId': cityId}).then(response => {\n    callback(JSON.parse(response.data))\n  }, errResponse => {\n    console.log(errResponse)\n  })\n}\n\nfunction queryRegionFromBackground(cityId, positions, callback) {\n  const url = `${dataServerUrl}/regionquery`\n  console.log('post')\n  $http.post(url, {'cityId': cityId, 'positions': positions}).then(response => {\n    callback(JSON.parse(response.data))\n  }, errResponse => {\n    console.log(errResponse)\n  })\n}\n\nexport default{\n  getTestData,\n  getAllRecordsForOneCity,\n  queryRegionFromBackground\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/dataService.js","<template>\r\n  <div id=\"app\">\r\n    <Navbar></Navbar>\r\n    <div class=\"ui-row\">\r\n      <!--<div class=\"col-sm-3 col-md-3 col-lg-3 root-container\" ><ControlPanel class=\"bstyle\"></ControlPanel></div>-->\r\n      <div class=\"col-sm-9 col-md-9 col-lg-9 root-container \" >\r\n        <Navigation class=\"y-style-30\"></Navigation>\r\n        <CompContainer v-bind:svFeatures2Color=\"svFeatures2Color\" class=\"y-style-70\"></CompContainer>\r\n      </div>\r\n      <div class=\"col-sm-4 col-md-3 col-lg-3 root-container\" ><Analysis v-bind:svFeatures2Color=\"svFeatures2Color\" class=\"bstyle\"></Analysis></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Navbar from './components/Navbar.vue'\r\n  import ControlPanel from './components/ControlPanel.vue'\r\n  import Navigation from './components/Navigation.vue'\r\n  import CompContainer from './components/ComparisionContainer.vue'\r\n  import Analysis from './components/Analysis.vue'\r\n  import 'bootstrap/dist/css/bootstrap.css'\r\n\r\n  export default {\r\n    name: 'app',\r\n    components: {\r\n      Navbar,\r\n      ControlPanel,\r\n      Navigation,\r\n      CompContainer,\r\n      Analysis\r\n    },\r\n    data () {\r\n      return {\r\n        svFeatures2Color: {\r\n          'green': '#2ca02c',\r\n          'sky': '#17becf',\r\n          'road': '#8c564b',\r\n          'building' : '#ff7f0e',\r\n          'car': '#ff9896',\r\n          'others': '#c7c7c7',\r\n          'allFeatures': ['green', 'sky', 'road', 'building', 'car', 'others']\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  html{\r\n    background: rgba(211,211,211, 0.3);\r\n    height: 100%;\r\n    width: 100%\r\n  }\r\n  #app {\r\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n    text-align: center;\r\n    background: #ddd;\r\n    height: 100vh\r\n  }\r\n  .ui-row{\r\n    margin-top: -10px;\r\n    height:90vh;\r\n    min-height:90vh;\r\n  }\r\n  .root-container{\r\n    height: 100%;\r\n    padding-right: 5px;\r\n    padding-left: 5px\r\n  }\r\n\r\n  .bstyle {\r\n    border-radius: 5px;\r\n    box-shadow: 3px 3px 3px grey;\r\n    background: #FFF;\r\n    margin-left: 0px;\r\n    height:100%;\r\n  }\r\n  .y-style-30{\r\n    border-radius: 5px;\r\n    box-shadow: 3px 3px 3px grey;\r\n    background: #FFF;\r\n    height:30%;\r\n  }\r\n  .y-style-70{\r\n    border-radius: 5px;\r\n    box-shadow: 3px 3px 3px grey;\r\n    background: #FFF;\r\n    margin-top: 10px;\r\n    height:69%;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?15d6b4b6","<template>\r\n  <div class=\"statistic-list\">\r\n    <div>{{ title }}</div>\r\n    <div v-for=\"query in queryList\" class=\"barChartContainer-container\">\r\n      <label> {{query.cityId}} {{query.number}}</label>\r\n      <BarChart v-bind:regionQueryData=\"query\" v-bind:svFeatures2Color=\"svFeatures2Color\"></BarChart>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import pipeService from '../service/pipeService'\r\n  import BarChart from './visChart/BarChart.vue'\r\n  export default {\r\n    name: 'analysis',\r\n    props: ['svFeatures2Color'],\r\n    components:{\r\n      BarChart\r\n    },\r\n    data () {\r\n      return {\r\n        title: 'Analysis View',\r\n        queryList:[]\r\n//      {cityId, dataRecord, number, attr{building, car, sky, green, others, road}}\r\n      }\r\n    },\r\n    mounted(){\r\n      let _this = this;\r\n      pipeService.onRegionQueryDataRecieved(function(data){\r\n        _this.queryList.push(_this.praseRegionQueryResult(data));\r\n      })\r\n    },\r\n    computed:{\r\n    },\r\n\r\n    methods:{\r\n      parseFeatures(){\r\n\r\n      },\r\n      praseRegionQueryResult(data){\r\n        let time = new Date();\r\n        let region = data['region'];\r\n        let records = data['records'];\r\n        let features = this.svFeatures2Color['allFeatures'];\r\n        let featureStaDict = {};\r\n        let featureRatioDict = {};\r\n        features.forEach(function(feature){\r\n          featureStaDict[feature] = 0;\r\n        });\r\n        let sum = 0;\r\n        for(var i = 0, ilen = records.length; i < ilen; i++){\r\n          let record = records[i];\r\n          features.forEach(function(feature){\r\n            featureStaDict[feature] += parseFloat(record[feature]);\r\n            sum += parseFloat(record[feature]);\r\n          });\r\n        }\r\n        features.forEach(function(feature){\r\n          featureRatioDict[feature] = featureStaDict[feature] / sum;\r\n        });\r\n\r\n        let output = {\r\n          cityId: data['cityId'],\r\n          featureArr: features,\r\n          featureSta: featureStaDict,\r\n          featureRatio: featureRatioDict,\r\n          number: records.length\r\n        };\r\n        return output;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .statistic-list{\r\n    max-height: 100%;\r\n    overflow-y: auto;\r\n  }\r\n  .barChartContainer-container{\r\n    /*background: rgba(13,13,13,0.1);*/\r\n\r\n    width: 100%\r\n\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Analysis.vue?7091570a","<template>\r\n  <div class=\"comp-mapview\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import pipeService from '../service/pipeService'\r\n  import DetailMap from '../lib/DetailMap'\r\n  import dataService from '../service/dataService'\r\n\r\n\r\n  export default {\r\n    name: 'comp-mapview',\r\n    props: ['cityInfo'],\r\n    data () {\r\n      return {\r\n        title: 'comp-mapview',\r\n        points_world: []\r\n      }\r\n    },\r\n    mounted(){\r\n      let _this = this;\r\n      this.createMap();\r\n\r\n\r\n//      All the using of the dataService functions should be repackaged.\r\n      dataService.getAllRecordsForOneCity(this.cityInfo['id'], function(data){\r\n        console.log('constant send');\r\n        _this.points_world = data;\r\n        let current_points = _this.mapObj.worldToContaierPointsArr(_this.points_world);\r\n        pipeService.emitUpdateAllResultData({\r\n          'cityId': _this.cityInfo['id'],\r\n          'data': current_points});\r\n\r\n        pipeService.emitMapInstance({\r\n          'cityId': _this.cityInfo['id'],\r\n          'map': _this.mapObj.getMapInstance()\r\n        })\r\n      });\r\n      pipeService.onInteractiveSelection(function(msg){\r\n        let cityId = msg['cityId'];\r\n        let positions = msg['region'];\r\n        if(positions.length <= 2) return;  //position <= 2 means a single click\r\n        if(cityId !=  _this.cityInfo.id) return;\r\n        var world_position = _this.mapObj.contaierPointsToWorld(positions);\r\n        dataService.queryRegionFromBackground( _this.cityInfo['id'], world_position, function(data){\r\n          pipeService.emitRegionQueryDataRecieved(data);\r\n        });\r\n      });\r\n      pipeService.onUpdateMapLayer(function(msg){\r\n        let cityId = msg['cityId'];\r\n        if(cityId !=  _this.cityInfo.id) return;\r\n        _this.mapObj.updateLayer(msg['layerName']);\r\n      })\r\n    },\r\n    computed:{\r\n      cityId(){\r\n        return this.cityInfo.id;\r\n      }\r\n    },\r\n    watch:{\r\n      'cityInfo.bound': function(newData, oldData){\r\n        let _this = this;\r\n        if(newData == null) return;\r\n        if(!this.mapObj) return;\r\n        this.mapObj.fitBounds(newData);\r\n\r\n        if(this.points_world && this.points_world.length != 0){\r\n//          HACK\r\n          setTimeout(function(){\r\n            let zoomLevel = _this.mapObj.getZoomLevel();\r\n            console.log('level', zoomLevel);\r\n            if(zoomLevel >= 13){\r\n              let regions = _this.mapObj.getBoundsRegion();\r\n              let positions = [\r\n                regions.getSouthWest(), regions.getSouthEast(),\r\n                regions.getNorthEast(), regions.getNorthWest()\r\n              ];\r\n\r\n              dataService.queryRegionFromBackground( _this.cityInfo['id'], positions, function(data){\r\n                console.log('here')\r\n                let current_points = _this.mapObj.worldToContaierPointsObj(data);\r\n                pipeService.emitUpdateAllResultData({\r\n                  'cityId': _this.cityInfo['id'],\r\n                  'data': current_points,\r\n                  'zoomLevel': zoomLevel});\r\n              })\r\n            }else{\r\n              let current_points = _this.mapObj.worldToContaierPointsArr(_this.points_world);\r\n              pipeService.emitUpdateAllResultData({\r\n                'cityId': _this.cityInfo['id'],\r\n                'data': current_points,\r\n                'zoomLevel': zoomLevel});\r\n            }\r\n          }, 400);\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      createMap(){\r\n        this.mapObj = new DetailMap(this.$el, this.cityInfo);\r\n        this.mapObj.init();\r\n        this.mapObj.disableAllInteraction();\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .comp-mapview{\r\n    /*float: left;*/\r\n    /*margin-left: 3%;*/\r\n    width: 100%;\r\n    background: rgba(13,13,13,0.1);\r\n    height: 100%\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// CompMapView.vue?48bd9e25","<template>\r\n  <div class=\"comparision-container\">\r\n    <div>{{ title }}</div>\r\n    <div v-for=\"cityInfo in cities\" class = \"compmap-container\">\r\n      <CompMap  v-bind:cityInfo=\"cityInfo\"></CompMap>\r\n      <div class=\"render_container\">\r\n        <PointsView class=\"points-view\" v-bind:cityInfo=\"cityInfo\" v-bind:svFeatures2Color=\"svFeatures2Color\"></PointsView>\r\n        <SelectionLayer class=\"points-view2\" v-bind:cityInfo=\"cityInfo\"> </SelectionLayer>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import pipeService from '../service/pipeService'\r\n  import CompMap from './CompMapView.vue'\r\n  import PointsView from './PointsView.vue'\r\n  import SelectionLayer from './SelectionLayer.vue'\r\n\r\n\r\n  export default {\r\n    name: 'comparision-container',\r\n    props:['svFeatures2Color'],\r\n    data () {\r\n      return {\r\n        title: 'Comparision View',\r\n        cities: [],\r\n        candidates: {\r\n          'nyc':{\r\n            'name': 'New York',\r\n            'gps':[40.7058253, -74.1180861],\r\n            'id': 'nyc',\r\n            'bound': null},\r\n          'singapore': {\r\n            'name': 'Singapore',\r\n            'gps':[1.3149014, 103.7769792],\r\n            'id': 'singapore',\r\n            'bound': null},\r\n          'hk': {\r\n            'name': 'Hong Kong',\r\n            'gps':[22.365354, 114.105228],\r\n            'id':'hk',\r\n            'bound': null},\r\n          'london': {\r\n            'name': 'London',\r\n            'gps':[51.528308,-0.3817765],\r\n            'id': 'london',\r\n            'bound': null}\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n      let _this = this;\r\n      pipeService.onUpdateSelectedMapView(function(city_id_arr){\r\n        _this.cities = [];\r\n        for(var i = 0, ilen = city_id_arr.length; i < ilen; i++){\r\n          let city_id = city_id_arr[i];\r\n          _this.cities.push(_this.candidates[city_id]);\r\n        }\r\n      });\r\n    },\r\n    created(){\r\n      let _this = this;\r\n      pipeService.onUpdateMapBound(function(para){\r\n        let _id = para['id'];\r\n        if(_this.candidates[_id] == undefined) return;\r\n        _this.candidates[_id]['bound'] = para['region'];\r\n      })\r\n    },\r\n    computed:{\r\n\r\n    },\r\n    components:{\r\n      CompMap,\r\n      PointsView,\r\n      SelectionLayer\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .compmap-container{\r\n    float: left;\r\n    margin-left: 3%;\r\n    width: 45%;\r\n    background: rgba(13,13,13,0.1);\r\n    height: 88%\r\n  }\r\n  .render_container{\r\n    position: relative;\r\n    height: 100%;\r\n    width: 100%\r\n  }\r\n  .points-view{\r\n    position: absolute;\r\n    bottom: 100%;\r\n    height: 100%;\r\n    left: 0px;\r\n  }\r\n  .points-view2{\r\n    position: absolute;\r\n    bottom: 100%;\r\n    /*height: 100%;*/\r\n    left: 0px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// ComparisionContainer.vue?5ad2f408","<template>\r\n  <div>\r\n    <div>{{ title }} </div>\r\n    <button v-for=\"para in parameters\" class=\"btn btn-primary dataset-btn ng-scope ng-binding\">{{para.name}}</button>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n  export default {\r\n    name: 'control',\r\n    data(){\r\n      return {\r\n        title: \"Control Pannel\",\r\n        parameters: [\r\n          {'name': 'B1', 'type': 'radio'},\r\n          {'name': 'B2', 'type': 'slider'},\r\n          {'name': 'B3', 'type': 'inputbox'}\r\n        ]\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// ControlPanel.vue?0338ea1c","<template>\r\n\r\n  <div class=\"nav-mapview\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import pipeService from '../service/pipeService'\r\n  import DetailMap from '../lib/DetailMap'\r\n\r\n  export default {\r\n    name: 'mapview',\r\n    props: ['cityInfo'],\r\n    data () {\r\n      return {\r\n        title: 'mapview'\r\n      }\r\n    },\r\n    mounted(){\r\n      this.createMap();\r\n      this.sendMapRegion();\r\n    },\r\n    computed:{\r\n    },\r\n    methods:{\r\n      sendMapRegion(){\r\n        let _this = this;\r\n        if(!this.mapObj) return;\r\n        let region = this.mapObj.getBounds();\r\n        pipeService.emitUpdateMapBound({\r\n          'region': region,\r\n          'id': _this.cityInfo['id']\r\n        })\r\n      },\r\n      createMap(){\r\n        let _this = this;\r\n        this.mapObj = new DetailMap(this.$el, this.cityInfo);\r\n        this.mapObj.init();\r\n        this.mapObj.enableControlLayer();\r\n        this.mapObj.onEvent('zoomend', function(event){\r\n          _this.sendMapRegion();\r\n        });\r\n        this.mapObj.onEvent('dragend', function(event){\r\n          _this.sendMapRegion();\r\n        });\r\n        this.mapObj.onEvent('zoomstart', function(event){\r\n          pipeService.emitCompMapZoomStart({'cityId': _this.cityInfo['id']});\r\n        });\r\n        this.mapObj.onEvent('movestart', function(event){\r\n          pipeService.emitCompMapDragStart({'cityId': _this.cityInfo['id']});\r\n        });\r\n\r\n        this.mapObj.onBaseLayerChange(function(event){\r\n          pipeService.emitUpdateMapLayer({\r\n            'cityId': _this.cityInfo['id'],\r\n            'layerName': event.name\r\n          });\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .nav-mapview{\r\n    float: left;\r\n    width: 100%;\r\n    background: rgba(13,13,13,0.1);\r\n    height: 90%\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// NavMapView.vue?c801ec88","<template>\r\n  <nav class=\"navbar navbar-default navbar-custom\">\r\n    <!-- container to make the display of navbar to be centered -->\r\n    <div class=\"container\">\r\n      <div class=\"navbar-header\">\r\n        <a class=\"navbar-brand hidden-sm\" href=\"http://vis.cse.ust.hk/\" >Navbar head</a>\r\n      </div>\r\n\r\n      <!--Navbar right or left -->\r\n      <div class=\"navbar-collapse collapse navbar-right\" >\r\n        <ul class=\"nav navbar-nav\">\r\n          <li>\r\n            <a  v-on:click = \"clcTest\">Test</a>\r\n          </li>\r\n            <li>\r\n            <a  v-on:click = \"testGetAllCity\">getall</a>\r\n          </li>\r\n          <li v-for=\"item in buttons\" >\r\n            <a v-bind:href= \"item.link\">{{ item.name }}</a>\r\n          </li>\r\n          <li class=\"dropdown\">\r\n            <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">Choose Data <span class=\"caret\"></span></a>\r\n            <ul class=\"dropdown-menu\" role=\"menu\">\r\n              <li><a href=\"#\">Button</a></li>\r\n              <li><a href=\"#\">Button</a></li>\r\n              <li><a href=\"#\">Button</a></li>\r\n              <li class=\"divider\"></li>\r\n              <li class=\"dropdown-header\">Description</li>\r\n              <li><a href=\"#\">Button</a></li>\r\n              <li><a href=\"#\">Button</a></li>\r\n            </ul>\r\n          </li>\r\n\r\n        </ul>\r\n        <ul class=\"nav navbar-nav navbar-right hidden-sm\">\r\n          <li><a href=\"\">About</a></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n\r\n<script>\r\n  import dataService from '../service/dataService.js'\r\n\r\n  export default {\r\n    name: 'navbar',\r\n    data(){\r\n      return {\r\n        title: 'Street View Analysis',\r\n        buttons: [\r\n          {'name': 'Start', 'link': \"http://www.huamin.org/\"},\r\n\r\n        ],\r\n        data: null\r\n      }\r\n    },\r\n    methods:{\r\n      clcTest(){\r\n        let _this = this;\r\n        dataService.getTestData(function(promise){\r\n          console.log('promise', promise);\r\n          _this.data = promise.data;\r\n        })\r\n      },\r\n      testGetAllCity(){\r\n        dataService.getAllRecordsForOneCity('hk', function(data){\r\n          console.log('promise', data);\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .navbar-default{\r\n    background: rgb(0,153,218);\r\n  }\r\n  .navbar-default .navbar-brand {\r\n    color: #fff;\r\n  }\r\n  .navbar-default .navbar-nav > li > a {\r\n    color: #fff;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Navbar.vue?b9388b7c","<template>\r\n  <div id=\"navigation\" class=\"navigation\">\r\n    <div>{{ title }}</div>\r\n    <div style=\"height: 100%\" v-bind:style=\"new_style\">\r\n      <div class='navmap-container' v-for=\"cityInfo in cities\">\r\n        <div>\r\n          <input style='float:left; margin-left: 10px' v-bind:value='cityInfo.id' type=\"checkbox\"\r\n                 v-model=\"checkedItem\" :disabled=\"cityInfo.notDisabled == 1? false: true\">\r\n          <div style='float:left; margin-left: 20px' for=\"checkbox\">{{ cityInfo.name }}</div>\r\n        </div>\r\n        <NavMapView v-bind:cityInfo=\"cityInfo\"></NavMapView>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import 'leaflet/dist/leaflet.css'\r\n  import NavMapView from './NavMapView.vue'\r\n  import pipeService from '../service/pipeService'\r\n\r\n  export default {\r\n    name: 'navigation',\r\n    watch:{\r\n      checkedItem: {\r\n        deep: 'true',\r\n        handler(newValue, oldValue){\r\n          if(newValue.length == 2){\r\n            for(var i = 0, ilen = this.cities.length; i < ilen; i++){\r\n              this.cities[i].notDisabled = 0;\r\n              for(var j = 0, jlen = newValue.length; j < jlen; j++){\r\n                if(newValue[j] == this.cities[i].id) this.cities[i].notDisabled = 1;\r\n              }\r\n            }\r\n          }else{\r\n            for(var i = 0, ilen = this.cities.length; i < ilen; i++){\r\n              this.cities[i].notDisabled = 1;\r\n            }\r\n          }\r\n          pipeService.emitUpdateSelectedMapView(newValue);\r\n        }\r\n      }\r\n    },\r\n    data () {\r\n      return {\r\n        title: 'Navigation View',\r\n        // City configuration should be loaded from the backend configuration files\r\n        checkedItem: [],\r\n        cities: [{\r\n          'name': 'New York',\r\n          'gps':[40.7058253, -74.1180861],\r\n          'id': 'nyc',\r\n          'selected': false,\r\n          'notDisabled': 1\r\n        },{\r\n          'name': 'Singapore',\r\n          'gps':[1.3149014, 103.7769792],\r\n          'id': 'singapore',\r\n          'selected': false,\r\n          'notDisabled': 1\r\n        },{\r\n          'name': 'Hong Kong',\r\n          'gps':[22.365354, 114.105228],\r\n          'id':'hk',\r\n          'selected': false,\r\n          'notDisabled': 1\r\n        },{\r\n          'name': 'London',\r\n          'gps':[51.528308,-0.3817765],\r\n          'id': 'london',\r\n          'selected': false,\r\n          'notDisabled': 1\r\n        }]\r\n      }\r\n    },\r\n    mounted(){\r\n    },\r\n    computed:{\r\n      newMessage: function(){\r\n        return this.title;\r\n      },\r\n      new_style: function(){\r\n        let width = 350 * this.cities.length + 'px';\r\n        return {width: width}\r\n      }\r\n\r\n    },\r\n    components:{\r\n      NavMapView\r\n    }\r\n\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  #navigation{\r\n    max-width: 100%;\r\n    minwidth: 100%;\r\n    overflow-x: auto;\r\n\r\n  }\r\n  .navmap-container{\r\n    float: left;\r\n    /*position: absolute;*/\r\n    margin-left: 20px;\r\n    width: 300px;\r\n\r\n    background: rgba(13,13,13,0.1);\r\n    height: 80%\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Navigation.vue?4bf0f53a","<template>\r\n  <div class=\"point-view\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import PointCloud from '../lib/PointCloud'\r\n  import pipeService from '../service/pipeService'\r\n  export default {\r\n    name: 'pointsview',\r\n    props: ['cityInfo', 'svFeatures2Color'],\r\n    data () {\r\n      return {\r\n        title: 'Points View'\r\n      }\r\n    },\r\n    mounted(){\r\n      let _this = this;\r\n      pipeService.onUpdateAllResultData(function(msg){\r\n        if(msg.cityId == _this.cityInfo.id){\r\n          _this.pointView.updatePointCloud(msg.data, msg.zoomLevel);\r\n        }\r\n      });\r\n      pipeService.onCompMapZoomStart(function(msg){\r\n        if(msg.cityId == _this.cityInfo.id){\r\n          _this.pointView.updatePointCloud([]);\r\n        }\r\n      });\r\n      pipeService.onCompMapDragStart(function(msg){\r\n        if(msg.cityId == _this.cityInfo.id){\r\n          _this.pointView.updatePointCloud([]);\r\n        }\r\n      });\r\n      this.createPointsView();\r\n    },\r\n    computed:{\r\n    },\r\n    methods:{\r\n      createPointsView(){\r\n        this.pointView = new PointCloud(this.$el);\r\n        this.pointView.init();\r\n        this.pointView.animate();\r\n        this.pointView.setColorStyle(this.svFeatures2Color)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .point-view{\r\n    float: left;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 1000\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// PointsView.vue?58089262","<template>\r\n  <div class=\"selection-layer\">\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//  import * as d3 from 'd3';\r\n  import DragSelection from '../lib/DragSelection'\r\n  import pipeService from '../service/pipeService'\r\n\r\n  export default {\r\n    name: 'select-layer',\r\n    props: ['cityInfo'],\r\n    data () {\r\n      return {\r\n        title: 'Points View'\r\n      }\r\n    },\r\n    mounted(){\r\n      this.createSelectLayer()\r\n    },\r\n    computed:{\r\n    },\r\n    methods:{\r\n      createSelectLayer(){\r\n        let _this = this;\r\n        this.dragSelection = new DragSelection(this.$el);\r\n        this.dragSelection.registerDragEnd(function(event){\r\n          let selectionRegion = event.subject;\r\n          pipeService.emitInteractiveSelection({\r\n            'cityId': _this.cityInfo.id, 'region': selectionRegion\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .selection-layer{\r\n    float: left;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 1001\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// SelectionLayer.vue?defb89ca","<template>\r\n  <svg class=\"barChart\">\r\n\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\n  import * as d3 from 'd3'\r\n\r\n  export default {\r\n    name: 'barchart',\r\n    props:['regionQueryData', 'svFeatures2Color'],\r\n    data () {\r\n      return {\r\n        title: 'BarChart',\r\n      }\r\n    },\r\n    mounted(){\r\n//      console.log('this', this.regionQueryData, this.svFeatures2Color)\r\n      this.drawBarChart();\r\n    },\r\n    computed:{\r\n\r\n    },\r\n    methods:{\r\n      drawBarChart(){\r\n        let _this = this;\r\n        let width = this.$el.clientWidth;\r\n        let height = this.$el.clientHeight;\r\n        let featureArr = this.svFeatures2Color['allFeatures'];\r\n        let barNum = featureArr.length;\r\n        let featureTextLength = 60;\r\n        console.log('width', width, height, this.svFeatures2Color);\r\n\r\n        let svgContainer = d3.select(this.$el).append('g')\r\n        let barsContainer = svgContainer.selectAll('.bar')\r\n          .data(featureArr)\r\n          .enter()\r\n          .append('g')\r\n          .attr('class','bar')\r\n          .attr('transform', function(d, i){\r\n            return 'translate(' + 0 + ',' + (i * height / (barNum + 1)) + ')';\r\n          })\r\n        let bars = barsContainer.append('rect')\r\n          .attr('x', featureTextLength)\r\n          .attr('width', function(d){\r\n            return _this.regionQueryData['featureRatio'][d] * width * 1.5;\r\n          })\r\n          .attr('height', function(d){return height / (barNum + 1) - 10})\r\n          .attr('fill', function(d){return _this.svFeatures2Color[d]})\r\n          .attr('fill-opacity', 0.8)\r\n        bars.append('title').text(function(d){return d});\r\n\r\n        barsContainer.append('text').text(function(d){return d})\r\n          .attr('x', 5)\r\n          .attr('y', 10)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .barChart{\r\n    margin-top: 20px;\r\n    width: 100%;\r\n    height: 120px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// BarChart.vue?f671be02","/**\r\n * Created by yiding on 2017/1/14.\r\n */\r\nimport * as d3 from 'd3'\r\n\r\nlet DragSelection = function(el) {\r\n  let _this = this;\r\n  this.$el = el;\r\n  this.width = el.clientWidth;\r\n  this.height = el.clientHeight;\r\n\r\n  let select_container = d3.select(this.$el).append('svg');\r\n  select_container.attr('width', this.width).attr('height', this.height);\r\n\r\n  // Refactor the code\r\n  let line = d3.line()\r\n    .curve(d3.curveBasis);\r\n\r\n  select_container\r\n    .call(d3.drag()\r\n      .container(function () {\r\n        return this;\r\n      })\r\n      .subject(function () {\r\n        var p = [d3.event.x, d3.event.y];\r\n        return [p, p];\r\n      })\r\n      .on(\"start\", dragstarted)\r\n      .on('end', function () {\r\n        // let selectionRegion = d3.event.subject;\r\n        // pipeService.emitInteractiveSelection(selectionRegion);\r\n        if(_this.dragCallBack) _this.dragCallBack(d3.event);\r\n        select_container.selectAll('path').remove();\r\n      }));\r\n\r\n  function dragstarted() {\r\n    var d = d3.event.subject,\r\n      active_select = select_container.append(\"path\").datum(d),\r\n      x0 = d3.event.x,\r\n      y0 = d3.event.y;\r\n    d3.event.on(\"drag\", function () {\r\n      var x1 = d3.event.x,\r\n        y1 = d3.event.y,\r\n        dx = x1 - x0,\r\n        dy = y1 - y0;\r\n\r\n      if (dx * dx + dy * dy > 100) d.push([x0 = x1, y0 = y1]);\r\n      else d[d.length - 1] = [x1, y1];\r\n      active_select.attr(\"d\", line).attr('fill-opacity', 0.3).attr('fill', 'white')\r\n    });\r\n  }\r\n};\r\n\r\nDragSelection.prototype.registerDragEnd = function(endDragCallback){\r\n  this.dragCallBack = endDragCallback;\r\n};\r\n\r\n\r\nexport default DragSelection\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/DragSelection.js","/**\r\n * Created by yiding on 2017/1/12.\r\n */\r\nimport THREE from \"Three.js\"\r\n\r\n\r\n\r\nlet PointCloud = function(el){\r\n  this.$el = el;\r\n  this.width = this.$el.clientWidth;\r\n  this.height = this.$el.clientHeight;\r\n\r\n};\r\n\r\nPointCloud.prototype.setColorStyle = function(colorStyle){\r\n  this.colorStyle = colorStyle;\r\n};\r\n\r\nPointCloud.prototype.init = function(){\r\n  this.container = document.createElement( 'div' );\r\n\r\n  this.$el.appendChild(this.container);\r\n  // this.camera = new THREE.PerspectiveCamera(75,this.width/this.height, -1, 1);\r\n  this.camera = new THREE.OrthographicCamera(-this.width/2, this.width/2, this.height/2, -this.height/2, -100000, 100000);\r\n  this.camera.position.set(0,0,2000);\r\n  this.camera.lookAt(0,0,0);\r\n  this.scene = new THREE.Scene();\r\n  this.scene.fog = new THREE.FogExp2( 0x000000, 0.0007 );\r\n  // let data = generateWorldData();\r\n  // this.setData(data);\r\n  this.initRender();\r\n\r\n};\r\nfunction generateData(){\r\n  let arr = [];\r\n  for (let i = 0; i < 150000; i ++ ) {\r\n    arr.push({\r\n      x: Math.random() * 3000 - 1500,\r\n      y: Math.random() * 3000 - 1500,\r\n    })\r\n  }\r\n  return arr;\r\n}\r\nfunction generateWorldData(width, total){\r\n  this.width = width;\r\n  this.height = 400;\r\n  let arr = [];\r\n  for (let i = 0; i < total; i ++ ) {\r\n    arr.push({\r\n      x: Math.random() * this.width,\r\n      y: Math.random() * this.height\r\n\r\n    })\r\n  }\r\n  return arr;\r\n}\r\n\r\nfunction generateAnotherWorldData(width, total){\r\n  this.width = width;\r\n  this.height = 500;\r\n  let arr = [];\r\n  for (let i = 0; i < total; i ++ ) {\r\n    arr.push({\r\n      x: Math.random() * this.width - this.width / 2,\r\n      y: Math.random() * this.height - this.height / 2\r\n\r\n    })\r\n  }\r\n  return arr;\r\n}\r\n\r\nPointCloud.prototype.setData = function(arr, level){\r\n\r\n  var _this = this;\r\n  _this.scene.children.forEach(function(object){\r\n    _this.scene.remove(object);\r\n  });\r\n  let point_size = 1;\r\n  if(!arr || arr.length == 0) return;\r\n  if(level > 14){\r\n    point_size = 1 + 50 / Math.abs(level - 19) * Math.abs(14 - level)\r\n  }\r\n  console.log('pointsize', point_size);\r\n  var geometry = new THREE.Geometry();\r\n  var colors = [];\r\n  for (let i = 0; i < arr.length; i ++ ) {\r\n    var item = arr[i].pos;\r\n    var type = arr[i].type;\r\n    var vertex = new THREE.Vector3(item['x'], item['y'], 0);\r\n    var world_vertex = this.screenToWorldOrth(vertex);\r\n    colors.push(new THREE.Color(this.getColor(type)));\r\n    geometry.vertices.push(world_vertex);\r\n  }\r\n  geometry.colors = colors;\r\n  this.parameters = [ [1, 1, 0.5], 5 ];\r\n\r\n  this.materials = new THREE.PointsMaterial( {\r\n    size: point_size,\r\n    transparent: true,\r\n    opacity: 0.7,\r\n    vertexColors: THREE.VertexColors\r\n  } );\r\n\r\n  let particles = new THREE.Points( geometry, this.materials );\r\n  this.scene.add( particles );\r\n\r\n};\r\n//Hack TT\r\nPointCloud.prototype.getColor = function(type){\r\n  if(this.colorStyle == undefined){\r\n    if(type == 'green') return '#2ca02c';\r\n    else if(type == 'sky') return '#17becf';\r\n    else if(type == 'road') return '#8c564b';\r\n    else if(type == 'building') return '#ff7f0e';\r\n  }else{\r\n    if(this.colorStyle[type] == undefined){\r\n      console.log('Error in color style');\r\n    }\r\n    return this.colorStyle[type];\r\n  }\r\n}\r\nPointCloud.prototype.clearAll = function(){\r\n  let _this = this;\r\n  _this.scene.children.forEach(function(object){\r\n    _this.scene.remove(object);\r\n  });\r\n};\r\n\r\nPointCloud.prototype.initRender = function(){\r\n  this.renderer = new THREE.WebGLRenderer({ alpha: true });\r\n  this.renderer.setPixelRatio( window.devicePixelRatio );\r\n  this.renderer.setSize( this.$el.clientWidth, this.$el.clientHeight);\r\n  this.container.appendChild( this.renderer.domElement );\r\n};\r\n\r\nPointCloud.prototype.animate = function(){\r\n  let _this = this;\r\n  function animate(){\r\n    requestAnimationFrame( animate );\r\n    _this.render();\r\n  }\r\n  animate();\r\n};\r\n\r\nPointCloud.prototype.render = function() {\r\n  if(!this.materials) return\r\n  this.renderer.render( this.scene, this.camera );\r\n};\r\n\r\nPointCloud.prototype.updatePointCloud = function(data, level) {\r\n  //如何在animate 的同时添加数据， 我觉得可以尝试使用正交摄像头来做，省了一步映射的过程\r\n  this.setData(data, level);\r\n};\r\n\r\nPointCloud.prototype.screenToWorld = function(position){\r\n  var vector = new THREE.Vector3();\r\n  vector.set( ( position.x / this.width ) * 2 - 1, - ( position.y / this.height ) * 2 + 1, 0.5 );\r\n  vector.unproject( this.camera );\r\n  var dir = vector.sub( this.camera.position ).normalize();\r\n  var distance = - this.camera.position.z / dir.z;\r\n  var pos = this.camera.position.clone().add( dir.multiplyScalar( distance ) );\r\n  return pos;\r\n};\r\n\r\nPointCloud.prototype.screenToWorldOrth = function(position){\r\n  return new THREE.Vector3(position.x - this.width / 2, -position.y + this.height / 2, 0)\r\n};\r\n\r\nPointCloud.prototype.worldToScreen = function(position){\r\n  var pos = position.clone();\r\n  // var pos = new THREE.Vector(position.x / this.width * 2 - 1,\r\n  //   -1 * position.y / this.height * 2 + 1, 1);\r\n  pos.project(this.camera);\r\n  pos.x = ( pos.x + 1 ) * this.width / 2;\r\n  pos.y = ( - pos.y + 1) * this.height / 2;\r\n  var particlePos = pos;\r\n  particlePos.value = position.value;\r\n  return particlePos;\r\n};\r\n\r\nPointCloud.prototype.switchCoordinate = function(position){\r\n  var x = position.x, y = position.y;\r\n\r\n  var pos = new THREE.Vector3(0, 0, 0);\r\n  var pMouse = new THREE.Vector3(\r\n    (x / this.width) * 2 - 1,\r\n    -(y / this.height) * 2 + 1,\r\n    1\r\n  );\r\n  //\r\n  pMouse.project(this.camera)\r\n\r\n  var cam = this.camera.position;\r\n  var m = pMouse.y / ( pMouse.y - cam.y );\r\n\r\n  pos.x = pMouse.x + ( cam.x - pMouse.x ) * m;\r\n  pos.z = pMouse.z + ( cam.z - pMouse.z ) * m;\r\n\r\n  return pos;\r\n};\r\n\r\nPointCloud.prototype.getCanvas = function(){\r\n  return this.renderer.domElement;\r\n};\r\n\r\nPointCloud.prototype.setCanvasToMap = function(callback){\r\n  callback(this.renderer.domElement);\r\n\r\n//   var MyLayer = L.CanvasLayer.extend({\r\n//     render: function() {\r\n//       var canvas = this.getCanvas();\r\n//       var ctx = canvas.getContext('2d');\r\n//       // render\r\n//     }\r\n//   });\r\n// // create and add to the map\r\n//   var layer = new MyLayer();\r\n//   layer.addTo(map);\r\n}\r\n\r\nexport default PointCloud\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/PointCloud.js","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-774cd6c9&scoped=true!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-774cd6c9!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-774cd6c9\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 34\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-0df01d4a&scoped=true!vue-loader/lib/selector?type=styles&index=0!./Analysis.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Analysis.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-0df01d4a!vue-loader/lib/selector?type=template&index=0!./Analysis.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-0df01d4a\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Analysis.vue\n// module id = 35\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-74d66c14&scoped=true!vue-loader/lib/selector?type=styles&index=0!./CompMapView.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./CompMapView.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-74d66c14!vue-loader/lib/selector?type=template&index=0!./CompMapView.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-74d66c14\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CompMapView.vue\n// module id = 36\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-d98b061e&scoped=true!vue-loader/lib/selector?type=styles&index=0!./ComparisionContainer.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./ComparisionContainer.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-d98b061e!vue-loader/lib/selector?type=template&index=0!./ComparisionContainer.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-d98b061e\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ComparisionContainer.vue\n// module id = 37\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./ControlPanel.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-39efb895!vue-loader/lib/selector?type=template&index=0!./ControlPanel.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ControlPanel.vue\n// module id = 38\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-3b3ee36c&scoped=true!vue-loader/lib/selector?type=styles&index=0!./NavMapView.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./NavMapView.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-3b3ee36c!vue-loader/lib/selector?type=template&index=0!./NavMapView.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-3b3ee36c\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NavMapView.vue\n// module id = 39\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-34526c04&scoped=true!vue-loader/lib/selector?type=styles&index=0!./Navbar.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Navbar.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-34526c04!vue-loader/lib/selector?type=template&index=0!./Navbar.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-34526c04\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Navbar.vue\n// module id = 40\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-6a2509fc&scoped=true!vue-loader/lib/selector?type=styles&index=0!./Navigation.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Navigation.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-6a2509fc!vue-loader/lib/selector?type=template&index=0!./Navigation.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-6a2509fc\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Navigation.vue\n// module id = 41\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-9449add4&scoped=true!vue-loader/lib/selector?type=styles&index=0!./PointsView.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./PointsView.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-9449add4!vue-loader/lib/selector?type=template&index=0!./PointsView.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-9449add4\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PointsView.vue\n// module id = 42\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-19dff093&scoped=true!vue-loader/lib/selector?type=styles&index=0!./SelectionLayer.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./SelectionLayer.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-19dff093!vue-loader/lib/selector?type=template&index=0!./SelectionLayer.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-19dff093\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SelectionLayer.vue\n// module id = 43\n// module chunks = 1","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-5939974b&scoped=true!vue-loader/lib/selector?type=styles&index=0!./BarChart.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./BarChart.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-5939974b!vue-loader/lib/selector?type=template&index=0!./BarChart.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-5939974b\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/visChart/BarChart.vue\n// module id = 44\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"statistic-list\"\n  }, [_c('div', [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _vm._l((_vm.queryList), function(query) {\n    return _c('div', {\n      staticClass: \"barChartContainer-container\"\n    }, [_c('label', [_vm._v(\" \" + _vm._s(query.cityId) + \" \" + _vm._s(query.number))]), _vm._v(\" \"), _c('BarChart', {\n      attrs: {\n        \"regionQueryData\": query,\n        \"svFeatures2Color\": _vm.svFeatures2Color\n      }\n    })], 1)\n  })], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-0df01d4a!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Analysis.vue\n// module id = 45\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"selection-layer\"\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-19dff093!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/SelectionLayer.vue\n// module id = 46\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('nav', {\n    staticClass: \"navbar navbar-default navbar-custom\"\n  }, [_c('div', {\n    staticClass: \"container\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"navbar-collapse collapse navbar-right\"\n  }, [_c('ul', {\n    staticClass: \"nav navbar-nav\"\n  }, [_c('li', [_c('a', {\n    on: {\n      \"click\": _vm.clcTest\n    }\n  }, [_vm._v(\"Test\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    on: {\n      \"click\": _vm.testGetAllCity\n    }\n  }, [_vm._v(\"getall\")])]), _vm._v(\" \"), _vm._l((_vm.buttons), function(item) {\n    return _c('li', [_c('a', {\n      attrs: {\n        \"href\": item.link\n      }\n    }, [_vm._v(_vm._s(item.name))])])\n  }), _vm._v(\" \"), _vm._m(1)], 2), _vm._v(\" \"), _vm._m(2)])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"navbar-header\"\n  }, [_c('a', {\n    staticClass: \"navbar-brand hidden-sm\",\n    attrs: {\n      \"href\": \"http://vis.cse.ust.hk/\"\n    }\n  }, [_vm._v(\"Navbar head\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('li', {\n    staticClass: \"dropdown\"\n  }, [_c('a', {\n    staticClass: \"dropdown-toggle\",\n    attrs: {\n      \"href\": \"#\",\n      \"data-toggle\": \"dropdown\"\n    }\n  }, [_vm._v(\"Choose Data \"), _c('span', {\n    staticClass: \"caret\"\n  })]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"dropdown-menu\",\n    attrs: {\n      \"role\": \"menu\"\n    }\n  }, [_c('li', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"Button\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"Button\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"Button\")])]), _vm._v(\" \"), _c('li', {\n    staticClass: \"divider\"\n  }), _vm._v(\" \"), _c('li', {\n    staticClass: \"dropdown-header\"\n  }, [_vm._v(\"Description\")]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"Button\")])]), _vm._v(\" \"), _c('li', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"Button\")])])])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', {\n    staticClass: \"nav navbar-nav navbar-right hidden-sm\"\n  }, [_c('li', [_c('a', {\n    attrs: {\n      \"href\": \"\"\n    }\n  }, [_vm._v(\"About\")])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-34526c04!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Navbar.vue\n// module id = 47\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', [_vm._v(_vm._s(_vm.title) + \" \")]), _vm._v(\" \"), _vm._l((_vm.parameters), function(para) {\n    return _c('button', {\n      staticClass: \"btn btn-primary dataset-btn ng-scope ng-binding\"\n    }, [_vm._v(_vm._s(para.name))])\n  })], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-39efb895!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ControlPanel.vue\n// module id = 48\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"nav-mapview\"\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-3b3ee36c!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/NavMapView.vue\n// module id = 49\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('svg', {\n    staticClass: \"barChart\"\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-5939974b!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/visChart/BarChart.vue\n// module id = 50\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"navigation\",\n    attrs: {\n      \"id\": \"navigation\"\n    }\n  }, [_c('div', [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"height\": \"100%\"\n    },\n    style: (_vm.new_style)\n  }, _vm._l((_vm.cities), function(cityInfo) {\n    return _c('div', {\n      staticClass: \"navmap-container\"\n    }, [_c('div', [_c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (_vm.checkedItem),\n        expression: \"checkedItem\"\n      }],\n      staticStyle: {\n        \"float\": \"left\",\n        \"margin-left\": \"10px\"\n      },\n      attrs: {\n        \"type\": \"checkbox\",\n        \"disabled\": cityInfo.notDisabled == 1 ? false : true\n      },\n      domProps: {\n        \"value\": cityInfo.id,\n        \"checked\": Array.isArray(_vm.checkedItem) ? _vm._i(_vm.checkedItem, cityInfo.id) > -1 : (_vm.checkedItem)\n      },\n      on: {\n        \"click\": function($event) {\n          var $$a = _vm.checkedItem,\n            $$el = $event.target,\n            $$c = $$el.checked ? (true) : (false);\n          if (Array.isArray($$a)) {\n            var $$v = cityInfo.id,\n              $$i = _vm._i($$a, $$v);\n            if ($$c) {\n              $$i < 0 && (_vm.checkedItem = $$a.concat($$v))\n            } else {\n              $$i > -1 && (_vm.checkedItem = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n            }\n          } else {\n            _vm.checkedItem = $$c\n          }\n        }\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"float\": \"left\",\n        \"margin-left\": \"20px\"\n      },\n      attrs: {\n        \"for\": \"checkbox\"\n      }\n    }, [_vm._v(_vm._s(cityInfo.name))])]), _vm._v(\" \"), _c('NavMapView', {\n      attrs: {\n        \"cityInfo\": cityInfo\n      }\n    })], 1)\n  }))])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-6a2509fc!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Navigation.vue\n// module id = 51\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"comp-mapview\"\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-74d66c14!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/CompMapView.vue\n// module id = 52\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('Navbar'), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui-row\"\n  }, [_c('div', {\n    staticClass: \"col-sm-9 col-md-9 col-lg-9 root-container \"\n  }, [_c('Navigation', {\n    staticClass: \"y-style-30\"\n  }), _vm._v(\" \"), _c('CompContainer', {\n    staticClass: \"y-style-70\",\n    attrs: {\n      \"svFeatures2Color\": _vm.svFeatures2Color\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"col-sm-4 col-md-3 col-lg-3 root-container\"\n  }, [_c('Analysis', {\n    staticClass: \"bstyle\",\n    attrs: {\n      \"svFeatures2Color\": _vm.svFeatures2Color\n    }\n  })], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-774cd6c9!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 53\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"point-view\"\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-9449add4!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/PointsView.vue\n// module id = 54\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"comparision-container\"\n  }, [_c('div', [_vm._v(_vm._s(_vm.title))]), _vm._v(\" \"), _vm._l((_vm.cities), function(cityInfo) {\n    return _c('div', {\n      staticClass: \"compmap-container\"\n    }, [_c('CompMap', {\n      attrs: {\n        \"cityInfo\": cityInfo\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"render_container\"\n    }, [_c('PointsView', {\n      staticClass: \"points-view\",\n      attrs: {\n        \"cityInfo\": cityInfo,\n        \"svFeatures2Color\": _vm.svFeatures2Color\n      }\n    }), _vm._v(\" \"), _c('SelectionLayer', {\n      staticClass: \"points-view2\",\n      attrs: {\n        \"cityInfo\": cityInfo\n      }\n    })], 1)], 1)\n  })], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-d98b061e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ComparisionContainer.vue\n// module id = 55\n// module chunks = 1"],"sourceRoot":""}